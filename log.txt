  16:17:12.027  TestService macro parser is not supported anymore.  -  Studio
  16:17:12.884  string label some string  -  Server
  16:17:12.885  expr label expr 42  -  Server
  16:17:13.095  Event "PING" was sent to stopped actor "myChild (x:113)". This actor has already reached its final state, and will not transition.
Event: {"type":"PING"}  -  Server - src:644
  16:17:13.128  Event "PING" was sent to stopped actor "myChild (x:116)". This actor has already reached its final state, and will not transition.
Event: {"type":"PING"}  -  Server - src:644
  16:17:13.712   FAIL   xstate-core  xstate-core/actions.spec   -  Server - Writeable:33
  16:17:13.712    ● entry/exit actions › State.actions › should return actions for parallel machines

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
        "exit_b1",
        "exit_a1",
    +   "do_b2",
        "do_a2",
        "another_do_a2",
    -   "do_b2",
        "enter_a2",
        "enter_b2",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:346
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state gets reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 2

      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1152
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state is reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 2

      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1187
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● forwardTo() › should not cause an infinite loop when forwarding to undefined

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 49

      Table {
        Table {
          Table {

      -       "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "name": "Error",
      +       "stack": "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2305
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● log() › should log a string

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2317

  ● log() › should log an expression

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2333

  ● sendTo › should error if given a string

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 39

      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2871
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● sendTo › should not attempt to deliver a delayed event to the spawned actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2969

  ● sendTo › should not attempt to deliver a delayed event to the invoked actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3034

  ● raise › should error if given a string

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 39

      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should call transition actions in document order for states at different levels of parallel regions

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
    -   "a1",
        "b",
    +   "a1",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3763
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should warn if called in custom action

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3999
  -  Server - Writeable:33
  16:17:13.796   PASS   xstate-core  xstate-core/activities.spec   -  Server - Writeable:33
  16:17:14.445   PASS   xstate-core  xstate-core/actor.spec   -  Server - Writeable:33
  16:17:14.749   ▶ The 'callback' argument must be a function or an object that has 'handleEvent' method: %o (x9)  -  Server - src:644
  16:17:14.962   FAIL   xstate-core  xstate-core/actorLogic.spec   -  Server - Writeable:33
  16:17:14.962    ● promise logic (fromPromise) › should not invoke a rejected promise again

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  0
    + Received  + 13

      Table {

          "error": 1,
          "status": "error",
      +   "trace": "
      +
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:120 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
      + ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:181
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:186
      ReplicatedStorage.TS.include.RuntimeLib:148
  -  Server - Writeable:33
  16:17:15.179   FAIL   xstate-core  xstate-core/after.spec   -  Server - Writeable:33
  16:17:15.179    ● delayed transitions › delay expressions › should evaluate the expression (function) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:300
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● delayed transitions › delay expressions › should evaluate the expression (string) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500, "type": "ACTIVATE"}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:339
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:17:15.312   PASS   xstate-core  xstate-core/assert.spec   -  Server - Writeable:33
  16:17:15.429   PASS   xstate-core  xstate-core/assign.spec   -  Server - Writeable:33
  16:17:15.495   PASS   xstate-core  xstate-core/clock.spec   -  Server - Writeable:33
  16:17:15.579   PASS   xstate-core  xstate-core/deep.spec   -  Server - Writeable:33
  16:17:15.661   PASS   xstate-core  xstate-core/definition.spec   -  Server - Writeable:33
  16:17:15.763   FAIL   xstate-core  xstate-core/deterministic.spec   -  Server - Writeable:33
  16:17:15.763    ● deterministic machine › forbidden events › undefined transitions should forbid events

    expect(received).toEqual(expected) -- deep equality

      Expected: {"red": "walk"}
      Received: "green"
      ReplicatedStorage.TS.shared.xstate-core.deterministic.spec:274
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:17:15.895   PASS   xstate-core  xstate-core/emit.spec   -  Server - Writeable:33
  16:17:15.952  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: doesnt_notify_error_listener_when_error_is_thrown_in_subscribe

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:301
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:295 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.shared.xstate-core.errors.spec:178
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:15.953  Stack Begin  -  Studio
  16:17:15.953  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:15.953  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:15.953  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:15.953  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:15.953  Stack End  -  Studio
  16:17:17.045  TestService: on Server: waiting a total of 300.00 seconds for the test to end  -  Studio
  16:17:20.978  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: unhandled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:206
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:20.978  Stack Begin  -  Studio
  16:17:20.979  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:20.979  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:20.979  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:20.979  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:20.979  Stack End  -  Studio
  16:17:25.994  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: unhandled_rejection_in_promise_actor_without_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:230
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:25.994  Stack Begin  -  Studio
  16:17:25.995  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:25.995  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:25.995  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:25.995  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:25.995  Stack End  -  Studio
  16:17:31.077  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: handled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:470
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
ReplicatedStorage.TS.include.RuntimeLib:195 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:351
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:31.077  Stack Begin  -  Studio
  16:17:31.077  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:31.077  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:31.077  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:31.078  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:31.078  Stack End  -  Studio
  16:17:36.144  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: handled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:470
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
ReplicatedStorage.TS.include.RuntimeLib:195 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:410
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:36.144  Stack Begin  -  Studio
  16:17:36.144  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:36.144  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:36.144  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:36.144  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:36.145  Stack End  -  Studio
  16:17:36.145  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: handled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:410
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:36.145  Stack Begin  -  Studio
  16:17:36.145  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:36.145  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:36.145  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:36.145  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:36.145  Stack End  -  Studio
  16:17:41.210  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: unhandled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:547
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:41.210  Stack Begin  -  Studio
  16:17:41.210  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:41.210  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:41.211  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:41.211  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:41.211  Stack End  -  Studio
  16:17:46.226  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_by_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:581
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:575 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:574
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:46.226  Stack Begin  -  Studio
  16:17:46.226  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:46.227  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:46.227  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:46.227  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:46.227  Stack End  -  Studio
  16:17:51.243  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_when_not_every_observer_comes_with_an_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:599
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:51.243  Stack Begin  -  Studio
  16:17:51.243  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:51.243  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:51.243  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:51.243  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:51.243  Stack End  -  Studio
  16:17:56.260  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_by_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:581
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:575 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:626
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:56.260  Stack Begin  -  Studio
  16:17:56.260  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:56.260  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:56.260  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:56.260  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:56.260  Stack End  -  Studio
  16:17:56.261  ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_when_not_every_observer_comes_with_an_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:626
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - src:285
  16:17:56.261  Stack Begin  -  Studio
  16:17:56.261  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:17:56.261  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:17:56.261  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:17:56.261  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:17:56.261  Stack End  -  Studio
  16:18:01.343   FAIL   xstate-core  xstate-core/errors.spec 45.378 s  -  Server - Writeable:33
  16:18:01.344    ● error handling › does not cause an infinite loop when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:103
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't crash the actor when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:141
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't notify error listener when an error is thrown in subscribe

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported globally in absence of error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its parent

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 31

      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_parent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:261
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its grandparent

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 43

      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:301
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › handled sync errors thrown when starting a child actor should be reported globally when not all of its own observers come with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported twice globally when not all of its own observers come with an error listener and when the root has no error listener of its own

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors should notify the root error listener

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 35

      Table {
        Table {
          Table {

      -       "Error: unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_sync_error_in_actor_start_with_root_error_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:470
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › unhandled sync errors thrown when starting an actor should crash the parent

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown by the error listener should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error should be reported globally if not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › uncaught error and an error thrown by the error listener should both be reported globally when not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown in initial custom entry action should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_in_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:652
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown when resolving initial builtin entry action should error the actor immediately

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_when_resolving_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_when_resolving_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_when_resolving_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:665
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown by a custom entry action when transitioning should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_a_custom_entry_action_when_transitioning]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_a_custom_entry_action_when_transitioning", "name": "Error", "stack": "Error: error_thrown_in_a_custom_entry_action_when_transitioning
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:699
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › should error when a guard throws when transitioning

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  2
    + Received  + 55

      Table {

      -   "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      -       error_thrown_in_guard_when_transitioning",
      +   "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +   "message": "Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning",
      +   "name": "Error",
      +   "stack": "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:775
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:01.494   PASS   xstate-core  xstate-core/event.spec   -  Server - Writeable:33
  16:18:01.556  Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "event.*.bar.*" event.  -  Server - src:644
  16:18:01.557  Infix wildcards in transition events are not allowed. Check the "event.*.bar.*" transition.  -  Server - src:644
  16:18:01.557  Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "*.event.*" event.  -  Server - src:644
  16:18:01.557  Infix wildcards in transition events are not allowed. Check the "*.event.*" transition.  -  Server - src:644
  16:18:01.559  Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "*event.*" event.  -  Server - src:644
  16:18:01.559  Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "event*.bar.*" event.  -  Server - src:644
  16:18:01.592   FAIL   xstate-core  xstate-core/eventDescriptors.spec   -  Server - Writeable:33
  16:18:01.593    ● event descriptors › should not match infix wildcards

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:256

  ● event descriptors › should not match wildcards as part of tokens

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:284
  -  Server - Writeable:33
  16:18:01.676   FAIL   xstate-core  xstate-core/examples/6.16.spec   -  Server - Writeable:33
  16:18:01.677    ● Example 6.16 › should go from {"A":"D","B":"F"} to {"A":"C","B":"F"} on 1, 5, 3

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

      -   "A": "C",
      +   "A": "D",
          "B": "F",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:01.761   FAIL   xstate-core  xstate-core/examples/6.17.spec   -  Server - Writeable:33
  16:18:01.761    ● Example 6.17 › should go from X to {"Y":{"A":"C","B":"G"}} on 2, back, 4

    expect(received).toEqual(expected) -- deep equality

      Expected: {"Y": {"A": "C", "B": "G"}}
      Received: "X"
      ReplicatedStorage.TS.shared.xstate-core.examples.6.17.spec:91
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:01.860   PASS   xstate-core  xstate-core/examples/6.6.spec   -  Server - Writeable:33
  16:18:01.943   PASS   xstate-core  xstate-core/examples/6.8.spec   -  Server - Writeable:33
  16:18:02.061   FAIL   xstate-core  xstate-core/examples/6.9.spec   -  Server - Writeable:33
  16:18:02.061    ● Example 6.9 › should go from {"A":"C"} to {"A":{"B":"E"}} on 4, 6, 1

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

          "A": Table {
      -     "B": "E",
      +     "C": "G",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● Example 6.9 › should go from {"A":"B"} to {"A":{"C":"G"}} on 5, 6, 1

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

          "A": Table {
      -     "C": "G",
      +     "B": "E",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:02.177   PASS   xstate-core  xstate-core/examples/cd.spec   -  Server - Writeable:33
  16:18:02.343   PASS   xstate-core  xstate-core/final.spec   -  Server - Writeable:33
  16:18:02.427   PASS   xstate-core  xstate-core/getNextSnapshot.spec   -  Server - Writeable:33
  16:18:02.594   FAIL   xstate-core  xstate-core/guards.spec   -  Server - Writeable:33
  16:18:02.594    ● guard conditions › should throw if string transition is not defined

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  2
    + Received  + 55

      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      -       Guard 'doesNotExist' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:283
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● referencing guards › should throw for guards with missing predicates

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  2
    + Received  + 55

      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      -       Guard 'missing-predicate' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:839
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:02.727   PASS   xstate-core  xstate-core/history.spec   -  Server - Writeable:33
  16:18:02.811   FAIL   xstate-core  xstate-core/id.spec   -  Server - Writeable:33
  16:18:02.811    ● State node IDs › should go from {"B":"foo"} to {"A":"foo"} on NEXT,NEXT

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

      -   "A": "foo",
      +   "B": "foo",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:02.894   PASS   xstate-core  xstate-core/initial.spec   -  Server - Writeable:33
  16:18:03.109   ▶ {...}  -  Server - src:2043
  16:18:03.109  Stack Begin  -  Studio
  16:18:03.109  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043  -  Studio - src:2043
  16:18:03.110  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:18:03.110  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:03.110  Stack End  -  Studio
  16:18:03.143   PASS   xstate-core  xstate-core/input.spec   -  Server - Writeable:33
  16:18:03.294   FAIL   xstate-core  xstate-core/inspect.spec   -  Server - Writeable:33
  16:18:03.294    ● inspect › can inspect communications between actors

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 50
    + Received  + 50

    @@ -70,50 +70,28 @@

            "sourceId": "x:2",
            "targetId": "x:3",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:3",
            "event": Table {
      -       "type": "xstate.init",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
            },
      -     "snapshot": Table {
      -       "status": "active",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:3",
      +     "targetId": "x:3",
      +     "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:2",
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "loadChild",
      +       "type": "xstate.init",
            },
            "snapshot": Table {
      -       "value": "loading",
      -     },
              "status": "active",
      -     "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "actorId": "x:1",
      -     "event": Table {
      -       "type": "load",
      -     },
      -     "snapshot": Table {
      -       "value": "waiting",
            },
            "status": "active",
            "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      -     },
      -     "sourceId": "x:3",
      -     "targetId": "x:3",
      -     "type": "@xstate.event",
          },
          Table {
            "event": Table {
              "actorId": "0.(machine).loading",
              "output": 42,
      @@ -122,48 +100,49 @@
            "sourceId": "x:3",
            "targetId": "x:2",
            "type": "@xstate.event",
          },
          Table {
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "toParent",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
      +     },
      +     "snapshot": Table {
      +       "output": 42,
      +       "status": "done",
            },
      -     "sourceId": "x:2",
      -     "targetId": "x:1",
      -     "type": "@xstate.event",
      +     "status": "done",
      +     "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:1",
      +     "actorId": "x:2",
            "event": Table {
      -       "type": "toParent",
      +       "type": "loadChild",
            },
            "snapshot": Table {
      -       "value": "waiting",
      +       "value": "loading",
            },
            "status": "active",
            "type": "@xstate.snapshot",
          },
          Table {
            "event": Table {
      -       "actorId": "child",
      -       "type": "xstate.done.actor.child",
      +       "type": "toParent",
            },
            "sourceId": "x:2",
            "targetId": "x:1",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:1",
            "event": Table {
              "actorId": "child",
              "type": "xstate.done.actor.child",
            },
      -     "snapshot": Table {
      -       "value": "success",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:2",
      +     "targetId": "x:1",
      +     "type": "@xstate.event",
          },
          Table {
            "actorId": "x:2",
            "event": Table {
              "actorId": "0.(machine).loading",
      @@ -175,18 +154,39 @@
            },
            "status": "done",
            "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:3",
      +     "actorId": "x:1",
      +     "event": Table {
      +       "type": "load",
      +     },
      +     "snapshot": Table {
      +       "value": "waiting",
      +     },
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
            "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      +       "type": "toParent",
            },
            "snapshot": Table {
      -       "output": 42,
      -       "status": "done",
      +       "value": "waiting",
            },
      -     "status": "done",
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
      +     "event": Table {
      +       "actorId": "child",
      +       "type": "xstate.done.actor.child",
      +     },
      +     "snapshot": Table {
      +       "value": "success",
      +     },
      +     "status": "active",
            "type": "@xstate.snapshot",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.inspect.spec:287
      ReplicatedStorage.TS.include.RuntimeLib:148
  -  Server - Writeable:33
  16:18:03.378   PASS   xstate-core  xstate-core/internalTransitions.spec   -  Server - Writeable:33
  16:18:03.912  Event "TIMER" was sent to stopped actor "x:27 (x:27)". This actor has already reached its final state, and will not transition.
Event: {"type":"TIMER"}  -  Server - src:644
  16:18:04.211  Event "TRIGGER" was sent to stopped actor "x:43 (x:43)". This actor has already reached its final state, and will not transition.
Event: {"type":"TRIGGER"}  -  Server - src:644
  16:18:04.227  ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1135: attempt to index function with 'mock'  -  Server
  16:18:04.227  Stack Begin  -  Studio
  16:18:04.227  Script 'ReplicatedStorage.TS.shared.xstate-core.interpreter.spec', Line 1135  -  Studio
  16:18:04.227  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:04.227  Stack End  -  Studio
  16:18:09.448   ▶ {...}  -  Server - src:2043
  16:18:09.448  Stack Begin  -  Studio
  16:18:09.448  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043  -  Studio - src:2043
  16:18:09.448  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:18:09.448  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:09.448  Stack End  -  Studio
  16:18:09.476   FAIL   xstate-core  xstate-core/interpreter.spec 6.033 s  -  Server - Writeable:33
  16:18:09.477    ● interpreter › send with delay › can send an event after a delay (delayed transitions)

    expect(received).toEqual(expected) -- deep equality

      Expected: "a"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:404
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should throw an error if initial state sent to interpreter is invalid

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: Initial state node \"create\" not found on parent state node #fetchMachine]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "Initial state node \"create\" not found on parent state node #fetchMachine", "name": "Error", "stack": "Error: Initial state node \"create\" not found on parent state node #fetchMachine
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:678
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should not update when stopped

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:697

  ● interpreter › .start() › should initialize the service

    expect(jest.fn()).toHaveBeenCalled()

      Expected number of calls: >= 1
      Received number of calls:    0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1004
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .start() › should not reinitialize a started service

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1019
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .stop() › should not execute transitions after being stopped

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● should notify the error observer for an errored logic when it gets subscribed after it errors

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 29

      Table {
        Table {
          Table {

      -       "Error: error",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1826 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1833
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "error",
      +       "name": "Error",
      +       "stack": "Error: error
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1826 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1833
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1837
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:09.577   PASS   xstate-core  xstate-core/invalid.spec   -  Server - Writeable:33
  16:18:11.611   ▶ {...}  -  Server - src:285
  16:18:11.611  Stack Begin  -  Studio
  16:18:11.611  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285  -  Studio - src:285
  16:18:11.611  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045  -  Studio - src:2045
  16:18:11.611  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src', Line 320 - function handleError  -  Studio
  16:18:11.611  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src', Line 333 - function throwingMatcher  -  Studio
  16:18:11.612  Script 'ReplicatedStorage.TS.shared.xstate-core.invoke.spec', Line 3173  -  Studio
  16:18:11.612  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:11.612  Stack End  -  Studio
  16:18:16.626   FAIL   xstate-core  xstate-core/invoke.spec 6.97 s  -  Server - Writeable:33
  16:18:16.626    ● invoke › invoke config defined as src containing a machine directly should register unique and predictable child in state

    stack overflow

      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.instance-of.src.instanceof:8

  ● invoke › xstate.done.actor events should have unique names when invokee is a machine with an id property

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.
  -  Server - Writeable:33
  16:18:16.710   PASS   xstate-core  xstate-core/json.spec   -  Server - Writeable:33
  16:18:16.764   ▶ {...}  -  Server - src:2043
  16:18:16.765  Stack Begin  -  Studio
  16:18:16.765  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043  -  Studio - src:2043
  16:18:16.765  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:18:16.765  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:16.765  Stack End  -  Studio
  16:18:16.765   ▶ {...}  -  Server - src:2043
  16:18:16.765  Stack Begin  -  Studio
  16:18:16.765  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043  -  Studio - src:2043
  16:18:16.766  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:18:16.766  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:16.766  Stack End  -  Studio
  16:18:16.793   FAIL   xstate-core  xstate-core/logger.spec   -  Server - Writeable:33
  16:18:16.793    ● logger › system logger should be default logger for actors (spawned from machine)

    expect.assertions(1)

    Expected one assertion to be called but received zero assertion calls.

      ReplicatedStorage.TS.shared.xstate-core.logger.spec:30
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:16.894   FAIL   xstate-core  xstate-core/machine.spec   -  Server - Writeable:33
  16:18:16.894    ● machine › machine.states › should properly register machine states

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
    -   "green",
        "yellow",
    +   "green",
        "red",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● machine › machine.events › should return the set of events accepted by machine

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    +   "TIMER",
        "PED_COUNTDOWN",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:70
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● StateNode › should list transitions

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 1

      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    -   "FORBIDDEN_EVENT",
    +   "TIMER",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:426
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:16.993   PASS   xstate-core  xstate-core/match.spec   -  Server - Writeable:33
  16:18:17.093   PASS   xstate-core  xstate-core/meta.spec   -  Server - Writeable:33
  16:18:17.177   PASS   xstate-core  xstate-core/microstep.spec   -  Server - Writeable:33
  16:18:17.259   PASS   xstate-core  xstate-core/multiple.spec   -  Server - Writeable:33
  16:18:17.310   ▶ {...}  -  Server
  16:18:17.343   FAIL   xstate-core  xstate-core/order.spec   -  Server - Writeable:33
  16:18:17.343    ● document order › should specify the correct document order for each state node

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 9
    + Received  + 9

    @@ -6,27 +6,27 @@
        Table {
          "one",
          1,
        },
        Table {
    -     "two",
    +     "three",
          2,
        },
        Table {
    -     "three",
    +     "four",
          3,
        },
        Table {
    -     "four",
    +     "five",
          4,
        },
        Table {
    -     "five",
    +     "six",
          5,
        },
        Table {
    -     "six",
    +     "two",
          6,
        },
        Table {
          "seven",
          7,
    @@ -34,23 +34,23 @@
        Table {
          "eight",
          8,
        },
        Table {
    -     "nine",
    +     "ten",
          9,
        },
        Table {
    -     "ten",
    +     "eleven",
          10,
        },
        Table {
    -     "eleven",
    +     "twelve",
          11,
        },
        Table {
    -     "twelve",
    +     "nine",
          12,
        },
        Table {
          "thirteen",
          13,

      ReplicatedStorage.TS.shared.xstate-core.order.spec:90
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:17.509   FAIL   xstate-core  xstate-core/parallel.spec   -  Server - Writeable:33
  16:18:17.509    ● parallel states › should go from {"bold":"off","underline":"on","italics":"off","list":"bullets"} to {"bold":"on","underline":"on","italics":"on","list":"bullets"} on TOGGLE_BOLD, TOGGLE_ITALICS

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 2

      Table {

      -   "bold": "on",
      -   "italics": "on",
      +   "bold": "off",
      +   "italics": "off",
          "list": "bullets",
          "underline": "on",
        }
      ReplicatedStorage.TS.shared.xstate-core.parallel.spec:549
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:17.776   PASS   xstate-core  xstate-core/predictableExec.spec   -  Server - Writeable:33
  16:18:17.893   FAIL   xstate-core  xstate-core/rehydration.spec   -  Server - Writeable:33
  16:18:17.893    ● rehydration › should be able to stop a rehydrated child

    expect(received).toBe(expected) -- Object.is equality

      Expected: "c"
      Received: "b"
      ReplicatedStorage.TS.shared.xstate-core.rehydration.spec:217
      ReplicatedStorage.TS.include.RuntimeLib:148
  -  Server - Writeable:33
  16:18:17.976   PASS   xstate-core  xstate-core/resolve.spec   -  Server - Writeable:33
  16:18:18.198   PASS   xstate-core  xstate-core/setup.types.spec   -  Server - Writeable:33
  16:18:18.276   PASS   xstate-core  xstate-core/spawn.spec   -  Server - Writeable:33
  16:18:18.359   PASS   xstate-core  xstate-core/spawn.types.spec   -  Server - Writeable:33
  16:18:18.443   PASS   xstate-core  xstate-core/spawnChild.spec   -  Server - Writeable:33
  16:18:18.559   PASS   xstate-core  xstate-core/state.spec   -  Server - Writeable:33
  16:18:18.660   PASS   xstate-core  xstate-core/stateIn.spec   -  Server - Writeable:33
  16:18:18.819   ▶ {...}  -  Server - src:2043
  16:18:18.819  Stack Begin  -  Studio
  16:18:18.819  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043  -  Studio - src:2043
  16:18:18.819  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:18:18.819  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:18.819  Stack End  -  Studio
  16:18:18.842   FAIL   xstate-core  xstate-core/system.spec   -  Server - Writeable:33
  16:18:18.842    ● system › should throw an error if an actor with the system ID already exists

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 57

      Table {
        Table {
          Table {

      -       "Error: Actor with system ID 'test' already exists.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Actor with system ID 'test' already exists.",
      +       "name": "Error",
      +       "stack": "Error: Actor with system ID 'test' already exists.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.system.spec:213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
  -  Server - Writeable:33
  16:18:18.926   PASS   xstate-core  xstate-core/tags.spec   -  Server - Writeable:33
  16:18:19.008   ▶ {...}  -  Server - src:2043
  16:18:19.009  Stack Begin  -  Studio
  16:18:19.009  Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043  -  Studio - src:2043
  16:18:19.009  Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27  -  Studio
  16:18:19.009  Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26  -  Studio
  16:18:19.009  Stack End  -  Studio
  16:18:19.042   PASS   xstate-core  xstate-core/toPromise.spec   -  Server - Writeable:33
  16:18:19.144   PASS   xstate-core  xstate-core/transient.spec   -  Server - Writeable:33
  16:18:19.310   PASS   xstate-core  xstate-core/transition.spec   -  Server - Writeable:33
  16:18:19.394   PASS   xstate-core  xstate-core/typeHelpers.spec   -  Server - Writeable:33
  16:18:19.756   PASS   xstate-core  xstate-core/types.spec   -  Server - Writeable:33
  16:18:19.960   FAIL   xstate-core  xstate-core/waitFor.spec   -  Server - Writeable:33
  16:18:19.960    ● waitFor › should throw an error when reaching a final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181

  ● waitFor › should immediately reject for an actor in its final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181
      ReplicatedStorage.TS.include.Promise:1257
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
  -  Server - Writeable:33
  16:18:19.961  Summary of all failing tests  -  Server - Writeable:33
  16:18:19.962   FAIL  xstate-core/actions.spec
  ● entry/exit actions › State.actions › should return actions for parallel machines

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
        "exit_b1",
        "exit_a1",
    +   "do_b2",
        "do_a2",
        "another_do_a2",
    -   "do_b2",
        "enter_a2",
        "enter_b2",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:346
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state gets reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 2

      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1152
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state is reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 2

      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1187
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● forwardTo() › should not cause an infinite loop when forwarding to undefined

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 49

      Table {
        Table {
          Table {

      -       "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "name": "Error",
      +       "stack": "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2305
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● log() › should log a string

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2317

  ● log() › should log an expression

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2333

  ● sendTo › should error if given a string

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 39

      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2871
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● sendTo › should not attempt to deliver a delayed event to the spawned actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2969

  ● sendTo › should not attempt to deliver a delayed event to the invoked actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3034

  ● raise › should error if given a string

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 39

      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should call transition actions in document order for states at different levels of parallel regions

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
    -   "a1",
        "b",
    +   "a1",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3763
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should warn if called in custom action

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3999

  -  Server - Writeable:33
  16:18:19.962   FAIL  xstate-core/actorLogic.spec
  ● promise logic (fromPromise) › should not invoke a rejected promise again

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  0
    + Received  + 13

      Table {

          "error": 1,
          "status": "error",
      +   "trace": "
      +
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:120 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
      + ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:181
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:186
      ReplicatedStorage.TS.include.RuntimeLib:148

  -  Server - Writeable:33
  16:18:19.962   FAIL  xstate-core/after.spec
  ● delayed transitions › delay expressions › should evaluate the expression (function) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:300
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● delayed transitions › delay expressions › should evaluate the expression (string) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500, "type": "ACTIVATE"}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:339
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.962   FAIL  xstate-core/deterministic.spec
  ● deterministic machine › forbidden events › undefined transitions should forbid events

    expect(received).toEqual(expected) -- deep equality

      Expected: {"red": "walk"}
      Received: "green"
      ReplicatedStorage.TS.shared.xstate-core.deterministic.spec:274
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.962   FAIL  xstate-core/errors.spec 45.378 s
  ● error handling › does not cause an infinite loop when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:103
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't crash the actor when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:141
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't notify error listener when an error is thrown in subscribe

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported globally in absence of error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its parent

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 31

      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_parent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:261
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its grandparent

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 43

      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:301
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › handled sync errors thrown when starting a child actor should be reported globally when not all of its own observers come with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported twice globally when not all of its own observers come with an error listener and when the root has no error listener of its own

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors should notify the root error listener

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 35

      Table {
        Table {
          Table {

      -       "Error: unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_sync_error_in_actor_start_with_root_error_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:470
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › unhandled sync errors thrown when starting an actor should crash the parent

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown by the error listener should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error should be reported globally if not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › uncaught error and an error thrown by the error listener should both be reported globally when not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown in initial custom entry action should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_in_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:652
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown when resolving initial builtin entry action should error the actor immediately

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_when_resolving_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_when_resolving_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_when_resolving_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:665
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown by a custom entry action when transitioning should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_a_custom_entry_action_when_transitioning]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_a_custom_entry_action_when_transitioning", "name": "Error", "stack": "Error: error_thrown_in_a_custom_entry_action_when_transitioning
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:699
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › should error when a guard throws when transitioning

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  2
    + Received  + 55

      Table {

      -   "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      -       error_thrown_in_guard_when_transitioning",
      +   "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +   "message": "Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning",
      +   "name": "Error",
      +   "stack": "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:775
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.962   FAIL  xstate-core/eventDescriptors.spec
  ● event descriptors › should not match infix wildcards

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:256

  ● event descriptors › should not match wildcards as part of tokens

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:284

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/examples/6.16.spec
  ● Example 6.16 › should go from {"A":"D","B":"F"} to {"A":"C","B":"F"} on 1, 5, 3

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

      -   "A": "C",
      +   "A": "D",
          "B": "F",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/examples/6.17.spec
  ● Example 6.17 › should go from X to {"Y":{"A":"C","B":"G"}} on 2, back, 4

    expect(received).toEqual(expected) -- deep equality

      Expected: {"Y": {"A": "C", "B": "G"}}
      Received: "X"
      ReplicatedStorage.TS.shared.xstate-core.examples.6.17.spec:91
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/examples/6.9.spec
  ● Example 6.9 › should go from {"A":"C"} to {"A":{"B":"E"}} on 4, 6, 1

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

          "A": Table {
      -     "B": "E",
      +     "C": "G",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● Example 6.9 › should go from {"A":"B"} to {"A":{"C":"G"}} on 5, 6, 1

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

          "A": Table {
      -     "C": "G",
      +     "B": "E",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/guards.spec
  ● guard conditions › should throw if string transition is not defined

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  2
    + Received  + 55

      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      -       Guard 'doesNotExist' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:283
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● referencing guards › should throw for guards with missing predicates

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  2
    + Received  + 55

      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      -       Guard 'missing-predicate' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:839
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/id.spec
  ● State node IDs › should go from {"B":"foo"} to {"A":"foo"} on NEXT,NEXT

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {

      -   "A": "foo",
      +   "B": "foo",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/inspect.spec
  ● inspect › can inspect communications between actors

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 50
    + Received  + 50

    @@ -70,50 +70,28 @@

            "sourceId": "x:2",
            "targetId": "x:3",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:3",
            "event": Table {
      -       "type": "xstate.init",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
            },
      -     "snapshot": Table {
      -       "status": "active",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:3",
      +     "targetId": "x:3",
      +     "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:2",
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "loadChild",
      +       "type": "xstate.init",
            },
            "snapshot": Table {
      -       "value": "loading",
      -     },
              "status": "active",
      -     "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "actorId": "x:1",
      -     "event": Table {
      -       "type": "load",
      -     },
      -     "snapshot": Table {
      -       "value": "waiting",
            },
            "status": "active",
            "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      -     },
      -     "sourceId": "x:3",
      -     "targetId": "x:3",
      -     "type": "@xstate.event",
          },
          Table {
            "event": Table {
              "actorId": "0.(machine).loading",
              "output": 42,
      @@ -122,48 +100,49 @@
            "sourceId": "x:3",
            "targetId": "x:2",
            "type": "@xstate.event",
          },
          Table {
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "toParent",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
      +     },
      +     "snapshot": Table {
      +       "output": 42,
      +       "status": "done",
            },
      -     "sourceId": "x:2",
      -     "targetId": "x:1",
      -     "type": "@xstate.event",
      +     "status": "done",
      +     "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:1",
      +     "actorId": "x:2",
            "event": Table {
      -       "type": "toParent",
      +       "type": "loadChild",
            },
            "snapshot": Table {
      -       "value": "waiting",
      +       "value": "loading",
            },
            "status": "active",
            "type": "@xstate.snapshot",
          },
          Table {
            "event": Table {
      -       "actorId": "child",
      -       "type": "xstate.done.actor.child",
      +       "type": "toParent",
            },
            "sourceId": "x:2",
            "targetId": "x:1",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:1",
            "event": Table {
              "actorId": "child",
              "type": "xstate.done.actor.child",
            },
      -     "snapshot": Table {
      -       "value": "success",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:2",
      +     "targetId": "x:1",
      +     "type": "@xstate.event",
          },
          Table {
            "actorId": "x:2",
            "event": Table {
              "actorId": "0.(machine).loading",
      @@ -175,18 +154,39 @@
            },
            "status": "done",
            "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:3",
      +     "actorId": "x:1",
      +     "event": Table {
      +       "type": "load",
      +     },
      +     "snapshot": Table {
      +       "value": "waiting",
      +     },
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
            "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      +       "type": "toParent",
            },
            "snapshot": Table {
      -       "output": 42,
      -       "status": "done",
      +       "value": "waiting",
            },
      -     "status": "done",
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
      +     "event": Table {
      +       "actorId": "child",
      +       "type": "xstate.done.actor.child",
      +     },
      +     "snapshot": Table {
      +       "value": "success",
      +     },
      +     "status": "active",
            "type": "@xstate.snapshot",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.inspect.spec:287
      ReplicatedStorage.TS.include.RuntimeLib:148

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/interpreter.spec 6.033 s
  ● interpreter › send with delay › can send an event after a delay (delayed transitions)

    expect(received).toEqual(expected) -- deep equality

      Expected: "a"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:404
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should throw an error if initial state sent to interpreter is invalid

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: Initial state node \"create\" not found on parent state node #fetchMachine]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "Initial state node \"create\" not found on parent state node #fetchMachine", "name": "Error", "stack": "Error: Initial state node \"create\" not found on parent state node #fetchMachine
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:678
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should not update when stopped

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:697

  ● interpreter › .start() › should initialize the service

    expect(jest.fn()).toHaveBeenCalled()

      Expected number of calls: >= 1
      Received number of calls:    0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1004
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .start() › should not reinitialize a started service

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1019
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .stop() › should not execute transitions after being stopped

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● should notify the error observer for an errored logic when it gets subscribed after it errors

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 29

      Table {
        Table {
          Table {

      -       "Error: error",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1826 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1833
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "error",
      +       "name": "Error",
      +       "stack": "Error: error
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1826 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1833
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1837
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/invoke.spec 6.97 s
  ● invoke › invoke config defined as src containing a machine directly should register unique and predictable child in state

    stack overflow

      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.instance-of.src.instanceof:8

  ● invoke › xstate.done.actor events should have unique names when invokee is a machine with an id property

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/logger.spec
  ● logger › system logger should be default logger for actors (spawned from machine)

    expect.assertions(1)

    Expected one assertion to be called but received zero assertion calls.

      ReplicatedStorage.TS.shared.xstate-core.logger.spec:30
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.963   FAIL  xstate-core/machine.spec
  ● machine › machine.states › should properly register machine states

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
    -   "green",
        "yellow",
    +   "green",
        "red",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● machine › machine.events › should return the set of events accepted by machine

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 1
    + Received  + 1

      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    +   "TIMER",
        "PED_COUNTDOWN",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:70
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● StateNode › should list transitions

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 1

      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    -   "FORBIDDEN_EVENT",
    +   "TIMER",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:426
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.964   FAIL  xstate-core/order.spec
  ● document order › should specify the correct document order for each state node

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 9
    + Received  + 9

    @@ -6,27 +6,27 @@
        Table {
          "one",
          1,
        },
        Table {
    -     "two",
    +     "three",
          2,
        },
        Table {
    -     "three",
    +     "four",
          3,
        },
        Table {
    -     "four",
    +     "five",
          4,
        },
        Table {
    -     "five",
    +     "six",
          5,
        },
        Table {
    -     "six",
    +     "two",
          6,
        },
        Table {
          "seven",
          7,
    @@ -34,23 +34,23 @@
        Table {
          "eight",
          8,
        },
        Table {
    -     "nine",
    +     "ten",
          9,
        },
        Table {
    -     "ten",
    +     "eleven",
          10,
        },
        Table {
    -     "eleven",
    +     "twelve",
          11,
        },
        Table {
    -     "twelve",
    +     "nine",
          12,
        },
        Table {
          "thirteen",
          13,

      ReplicatedStorage.TS.shared.xstate-core.order.spec:90
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.964   FAIL  xstate-core/parallel.spec
  ● parallel states › should go from {"bold":"off","underline":"on","italics":"off","list":"bullets"} to {"bold":"on","underline":"on","italics":"on","list":"bullets"} on TOGGLE_BOLD, TOGGLE_ITALICS

    expect(received).toEqual(expected) -- deep equality

    - Expected  - 2
    + Received  + 2

      Table {

      -   "bold": "on",
      -   "italics": "on",
      +   "bold": "off",
      +   "italics": "off",
          "list": "bullets",
          "underline": "on",
        }
      ReplicatedStorage.TS.shared.xstate-core.parallel.spec:549
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.964   FAIL  xstate-core/rehydration.spec
  ● rehydration › should be able to stop a rehydrated child

    expect(received).toBe(expected) -- Object.is equality

      Expected: "c"
      Received: "b"
      ReplicatedStorage.TS.shared.xstate-core.rehydration.spec:217
      ReplicatedStorage.TS.include.RuntimeLib:148

  -  Server - Writeable:33
  16:18:19.964   FAIL  xstate-core/system.spec
  ● system › should throw an error if an actor with the system ID already exists

    expect(received).toEqual(expected) -- deep equality

    - Expected  -  1
    + Received  + 57

      Table {
        Table {
          Table {

      -       "Error: Actor with system ID 'test' already exists.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Actor with system ID 'test' already exists.",
      +       "name": "Error",
      +       "stack": "Error: Actor with system ID 'test' already exists.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.system.spec:213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  -  Server - Writeable:33
  16:18:19.964   FAIL  xstate-core/waitFor.spec
  ● waitFor › should throw an error when reaching a final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181

  ● waitFor › should immediately reject for an actor in its final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181
      ReplicatedStorage.TS.include.Promise:1257
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299

  -  Server - Writeable:33
  16:18:19.964    -  Server - Writeable:33
  16:18:19.964  Test Suites: 21 failed, 38 passed, 59 total
Tests:       63 failed, 45 skipped, 1 todo, 1245 passed, 1354 total
Snapshots:   0 total
Time:        67.881 s
Ran all test suites.  -  Server - Writeable:33
