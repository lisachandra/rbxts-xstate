
> rbxts-xstate-monorepo@ test D:\Github\Roblox\Packages\rbxts-xstate
> sh scripts/shell/test-local.sh default.project.json test/src/test/spec.server.luau

Building project 'test'
Built project to test-place.rbxl
CoreGui {Archivable = true, Capabilities = 0, Children = Instances(size=17) [RobloxGui {AbsolutePosition = 0, 0, AbsoluteRotation = 0, AbsoluteSize = 1516, 820, Archivable = true, AutoLocalize = true, Capabilities = 0, Children = Instances(size=2) [ControlFrame {AbsolutePosition = 0, 0, AbsoluteRotation = 0, AbsoluteSize = 1516, 820, Active = false, AnchorPoint = 0, 0, Archivable = true, AutoLocalize = true, AutomaticSize = 0, BackgroundColor3 = 0.639216, 0.635294, 0.647059, BackgroundTransparency = 1, BorderColor3 = 0.105882, 0.164706, 0.207843, BorderMode = 0, BorderSizePixel = 1, Capabilities = 0, Children = Instances, ClassName = Frame, ClipsDescendants = false, Draggable = false, GuiState = 0, Interactable = true, LayoutOrder = 0, Name = ControlFrame, NextSelectionDown = nil, NextSelectionLeft = nil, NextSelectionRight = nil, NextSelectionUp = nil, Parent = RobloxGui, Position = {0, 0}, {0, 0}, RootLocalizationTable = nil, Rotation = 0, Sandboxed = false, Selectable = false, SelectionBehaviorDown = 0, SelectionBehaviorLeft = 0, SelectionBehaviorRight = 0, SelectionBehaviorUp = 0, SelectionGroup = false, SelectionImageObject = nil, SelectionOrder = 0, Size = {1, 0}, {1, 0}, SizeConstraint = 0, Style = 0, Visible = true, ZIndex = 1, className = Frame}, Modules {Archivable = true, Capabilities = 0, Children = Instances, ClassName = Folder, Name = Modules, Parent = RobloxGui, Sandboxed = false, className = Folder}], ClassName = ScreenGui, ClipToDeviceSafeArea = true, DisplayOrder = 0, Enabled = true, IgnoreGuiInset = false, Name = RobloxGui, Parent = CoreGui {Archivable = true, Capabilities = 0, Children = Instances(size=17) [RobloxGui, CoreScriptLocalization, InputVisualizer, LightGuides, ImageLoader, DraggerUI, ViewSelectorScreenGui, TransformTempAdornments, RigEditUI, SelectPrompt, JointHandles, JointHandles, JointAdornment, JointAdornment, MoonAnimator2Gui, KojoGizmos, PathEditFolder], ClassName = CoreGui, Name = CoreGui, Parent = run-in-roblox-place.rbxl {Archivable = true, Capabilities = 0, Children = Instances, ClassName = DataModel, CreatorId = 0, CreatorType = 0, GameId = 0, GearGenreSetting = 0, Genre = 0, JobId = , MatchmakingType = 1, Name = run-in-roblox-place.rbxl, Parent = nil, PlaceId = 0, PlaceVersion = 0, PrivateServerId = , PrivateServerOwnerId = 0, Sandboxed = false, Workspace = Workspace, className = DataModel, lighting = Lighting, workspace = Workspace}, Sandboxed = false, Version = 0, className = CoreGui}, ... }, ... ], ... }
DiscoverGameIcons batch load failed, loading thumbnails individually
string label some string
expr label expr 42
Event "PING" was sent to stopped actor "myChild (x:113)". This actor has already reached its final state, and will not transition.
Event: {"type":"PING"}
Event "PING" was sent to stopped actor "myChild (x:116)". This actor has already reached its final state, and will not transition.
Event: {"type":"PING"}
DiscoverGameIcons batch load failed, loading thumbnails individually
DiscoverGameIcons experienced an error: sabuiltin_StartPage.rbxm.StartPage.Src.Network.GameCache:20: Item has no Id or FilePath or ContentId
DiscoverGameIcons batch load failed, loading thumbnails individually
DiscoverGameIcons experienced an error: sabuiltin_StartPage.rbxm.StartPage.Src.Network.GameCache:20: Item has no Id or FilePath or ContentId
 FAIL   xstate-core  xstate-core/actions.spec 
  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state gets reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 2
    
      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1152
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state is reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 2
    
      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1187
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● forwardTo() › should not cause an infinite loop when forwarding to undefined

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 49
    
      Table {
        Table {
          Table {

      -       "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "name": "Error",
      +       "stack": "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2305
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● log() › should log a string

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2317

  ● log() › should log an expression

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2333

  ● sendTo › should error if given a string

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 39
    
      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2871
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● sendTo › should not attempt to deliver a delayed event to the spawned actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2969

  ● sendTo › should not attempt to deliver a delayed event to the invoked actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3034

  ● raise › should error if given a string

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 39
    
      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should call transition actions in document order for same-level parallel regions

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "a",
        "b",
    +   "a",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3725
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should call transition actions in document order for states at different levels of parallel regions

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "a1",
        "b",
    +   "a1",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3763
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should warn if called in custom action

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3999

 PASS   xstate-core  xstate-core/activities.spec 
DiscoverTeamCreatePresence experienced an error: HttpResponse = {
	requestErrorMessage = "Http request to https://apis.roblox.com/teamcreate/v1/MultiGetUniversesActiveSessionMembers?maxUsers=10&ids=2196102665&ids=3438645833&ids=7453116671&ids=7413383698&ids=7486457905&ids=6558361152&ids=6638785494 rejected because request did not succeed.",
	requestOptions = {
		Method = "GET",
		Url = "https://apis.roblox.com/teamcreate/v1/MultiGetUniversesActiveSessionMembers?maxUsers=10&ids=2196102665&ids=3438645833&ids=7453116671&ids=7413383698&ids=7486457905&ids=6558361152&ids=6638785494"
	},
	responseBody = {
		errors = {
			{
				code = 0,
				message = "upstream request timeout"
			}
		}
	},
	responseCode = 504,
	responseTimeMs = 3719.3009853363037
}
 FAIL   xstate-core  xstate-core/actor.spec 
  ● spawning observables › should notify direct child listeners with final snapshot before it gets stopped

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

      Expected: 3
      Received
             1: 0
             2: 1
             3: 2
      Number of calls: 3
      ReplicatedStorage.TS.shared.xstate-core.actor.spec:599
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● spawning observables › should not notify direct child listeners after it gets stopped

    expect(jest.fn()).never.toHaveBeenCalled()

      Expected number of calls: 0
      Received number of calls: 1
      1: {"_subscription": {"closed": true, "complete": [Function anonymous], "error": [Function anonymous], "isStopped": true, "next": [Function anonymous]}, "context": 3, "status": "active"}
      ReplicatedStorage.TS.shared.xstate-core.actor.spec:646
      ReplicatedStorage.TS.include.RuntimeLib:148

The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
The 'callback' argument must be a function or an object that has 'handleEvent' method: %o
 FAIL   xstate-core  xstate-core/actorLogic.spec 
  ● promise logic (fromPromise) › should not invoke a rejected promise again

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  0
    + Received  + 13
    
      Table {

          "error": 1,
          "status": "error",
      +   "trace": "
      +
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:120 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
      + ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:181
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:186
      ReplicatedStorage.TS.include.RuntimeLib:148

 FAIL   xstate-core  xstate-core/after.spec 
  ● delayed transitions › delay expressions › should evaluate the expression (function) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:300
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● delayed transitions › delay expressions › should evaluate the expression (string) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500, "type": "ACTIVATE"}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:339
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:644: table: 0x2024fb2d75ff5c97

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:581
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:575 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:512 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.shared.xstate-core.assert.spec:46
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:644: table: 0x67e2c80f75cd5627

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:581
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:575 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:512 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.shared.xstate-core.assert.spec:89
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-core  xstate-core/assert.spec 10.049 s
  ● assertion helpers › assertEvent asserts the correct event type

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● assertion helpers › assertEvent asserts multiple event types

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

 PASS   xstate-core  xstate-core/assign.spec 
 PASS   xstate-core  xstate-core/clock.spec 
 PASS   xstate-core  xstate-core/deep.spec 
 PASS   xstate-core  xstate-core/definition.spec 
 FAIL   xstate-core  xstate-core/deterministic.spec 
  ● deterministic machine › forbidden events › undefined transitions should forbid events

    expect(received).toEqual(expected) -- deep equality

      Expected: {"red": "walk"}
      Received: "green"
      ReplicatedStorage.TS.shared.xstate-core.deterministic.spec:274
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/emit.spec 
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: doesnt_notify_error_listener_when_error_is_thrown_in_subscribe

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:301
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:295 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.shared.xstate-core.errors.spec:178
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: unhandled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:206
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: unhandled_rejection_in_promise_actor_without_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:230
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: handled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:470
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
ReplicatedStorage.TS.include.RuntimeLib:195 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:351
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: handled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:470
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
ReplicatedStorage.TS.include.RuntimeLib:195 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:410
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: handled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:410
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: unhandled_sync_error_in_actor_start

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:563 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:547
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_by_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:581
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:575 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:574
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_when_not_every_observer_comes_with_an_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:599
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_by_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:581
ReplicatedStorage.TS.include.RuntimeLib:209 function try
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:575 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:626
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.shared.xstate-core.errors.spec:57: Error: error_thrown_when_not_every_observer_comes_with_an_error_listener

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
ReplicatedStorage.TS.shared.xstate-core.errors.spec:626
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-core  xstate-core/errors.spec 45.358 s
  ● error handling › does not cause an infinite loop when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:103
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't crash the actor when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:141
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't notify error listener when an error is thrown in subscribe

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported globally in absence of error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its parent

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 31
    
      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_parent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:261
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its grandparent

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 43
    
      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:301
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › handled sync errors thrown when starting a child actor should be reported globally when not all of its own observers come with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported twice globally when not all of its own observers come with an error listener and when the root has no error listener of its own

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors should notify the root error listener

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 35
    
      Table {
        Table {
          Table {

      -       "Error: unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_sync_error_in_actor_start_with_root_error_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:470
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › unhandled sync errors thrown when starting an actor should crash the parent

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown by the error listener should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error should be reported globally if not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › uncaught error and an error thrown by the error listener should both be reported globally when not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown in initial custom entry action should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_in_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:652
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown when resolving initial builtin entry action should error the actor immediately

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_when_resolving_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_when_resolving_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_when_resolving_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:665
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown by a custom entry action when transitioning should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_a_custom_entry_action_when_transitioning]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_a_custom_entry_action_when_transitioning", "name": "Error", "stack": "Error: error_thrown_in_a_custom_entry_action_when_transitioning
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:699
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › should error when a guard throws when transitioning

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  2
    + Received  + 55
    
      Table {

      -   "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      -       error_thrown_in_guard_when_transitioning",
      +   "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +   "message": "Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning",
      +   "name": "Error",
      +   "stack": "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:775
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/event.spec 
Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "event.*.bar.*" event.
Infix wildcards in transition events are not allowed. Check the "event.*.bar.*" transition.
Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "*.event.*" event.
Infix wildcards in transition events are not allowed. Check the "*.event.*" transition.
Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "*event.*" event.
Wildcards can only be the last token of an event descriptor (e.g., "event.*") or the entire event descriptor ("*"). Check the "event*.bar.*" event.
 FAIL   xstate-core  xstate-core/eventDescriptors.spec 
  ● event descriptors › should not match infix wildcards

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:256

  ● event descriptors › should not match wildcards as part of tokens

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:284

 FAIL   xstate-core  xstate-core/examples/6.16.spec 
  ● Example 6.16 › should go from {"A":"D","B":"F"} to {"A":"C","B":"F"} on 1, 5, 3

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

      -   "A": "C",
      +   "A": "D",
          "B": "F",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 FAIL   xstate-core  xstate-core/examples/6.17.spec 
  ● Example 6.17 › should go from X to {"Y":{"A":"C","B":"G"}} on 2, back, 4

    expect(received).toEqual(expected) -- deep equality

      Expected: {"Y": {"A": "C", "B": "G"}}
      Received: "X"
      ReplicatedStorage.TS.shared.xstate-core.examples.6.17.spec:91
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/examples/6.6.spec 
 PASS   xstate-core  xstate-core/examples/6.8.spec 
 FAIL   xstate-core  xstate-core/examples/6.9.spec 
  ● Example 6.9 › should go from {"A":"C"} to {"A":{"B":"E"}} on 4, 6, 1

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

          "A": Table {
      -     "B": "E",
      +     "C": "G",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● Example 6.9 › should go from {"A":"B"} to {"A":{"C":"G"}} on 5, 6, 1

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

          "A": Table {
      -     "C": "G",
      +     "B": "E",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/examples/cd.spec 
 PASS   xstate-core  xstate-core/final.spec 
 PASS   xstate-core  xstate-core/getNextSnapshot.spec 
 FAIL   xstate-core  xstate-core/guards.spec 
  ● guard conditions › should throw if string transition is not defined

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  2
    + Received  + 55
    
      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      -       Guard 'doesNotExist' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:283
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● referencing guards › should throw for guards with missing predicates

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  2
    + Received  + 55
    
      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      -       Guard 'missing-predicate' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:839
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/history.spec 
 FAIL   xstate-core  xstate-core/id.spec 
  ● State node IDs › should go from {"B":"foo"} to {"A":"foo"} on NEXT,NEXT

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

      -   "A": "foo",
      +   "B": "foo",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/initial.spec 
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 PASS   xstate-core  xstate-core/input.spec 
 FAIL   xstate-core  xstate-core/inspect.spec 
  ● inspect › can inspect communications between actors

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 50
    + Received  + 50
    
    @@ -70,50 +70,28 @@

            "sourceId": "x:2",
            "targetId": "x:3",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:3",
            "event": Table {
      -       "type": "xstate.init",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
            },
      -     "snapshot": Table {
      -       "status": "active",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:3",
      +     "targetId": "x:3",
      +     "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:2",
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "loadChild",
      +       "type": "xstate.init",
            },
            "snapshot": Table {
      -       "value": "loading",
      -     },
              "status": "active",
      -     "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "actorId": "x:1",
      -     "event": Table {
      -       "type": "load",
      -     },
      -     "snapshot": Table {
      -       "value": "waiting",
            },
            "status": "active",
            "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      -     },
      -     "sourceId": "x:3",
      -     "targetId": "x:3",
      -     "type": "@xstate.event",
          },
          Table {
            "event": Table {
              "actorId": "0.(machine).loading",
              "output": 42,
      @@ -122,48 +100,49 @@
            "sourceId": "x:3",
            "targetId": "x:2",
            "type": "@xstate.event",
          },
          Table {
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "toParent",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
      +     },
      +     "snapshot": Table {
      +       "output": 42,
      +       "status": "done",
            },
      -     "sourceId": "x:2",
      -     "targetId": "x:1",
      -     "type": "@xstate.event",
      +     "status": "done",
      +     "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:1",
      +     "actorId": "x:2",
            "event": Table {
      -       "type": "toParent",
      +       "type": "loadChild",
            },
            "snapshot": Table {
      -       "value": "waiting",
      +       "value": "loading",
            },
            "status": "active",
            "type": "@xstate.snapshot",
          },
          Table {
            "event": Table {
      -       "actorId": "child",
      -       "type": "xstate.done.actor.child",
      +       "type": "toParent",
            },
            "sourceId": "x:2",
            "targetId": "x:1",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:1",
            "event": Table {
              "actorId": "child",
              "type": "xstate.done.actor.child",
            },
      -     "snapshot": Table {
      -       "value": "success",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:2",
      +     "targetId": "x:1",
      +     "type": "@xstate.event",
          },
          Table {
            "actorId": "x:2",
            "event": Table {
              "actorId": "0.(machine).loading",
      @@ -175,18 +154,39 @@
            },
            "status": "done",
            "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:3",
      +     "actorId": "x:1",
      +     "event": Table {
      +       "type": "load",
      +     },
      +     "snapshot": Table {
      +       "value": "waiting",
      +     },
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
            "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      +       "type": "toParent",
            },
            "snapshot": Table {
      -       "output": 42,
      -       "status": "done",
      +       "value": "waiting",
            },
      -     "status": "done",
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
      +     "event": Table {
      +       "actorId": "child",
      +       "type": "xstate.done.actor.child",
      +     },
      +     "snapshot": Table {
      +       "value": "success",
      +     },
      +     "status": "active",
            "type": "@xstate.snapshot",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.inspect.spec:287
      ReplicatedStorage.TS.include.RuntimeLib:148

 PASS   xstate-core  xstate-core/internalTransitions.spec 
Event "TIMER" was sent to stopped actor "x:27 (x:27)". This actor has already reached its final state, and will not transition.
Event: {"type":"TIMER"}
ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1135: attempt to index function with 'mock'
Stack Begin
Script 'ReplicatedStorage.TS.shared.xstate-core.interpreter.spec', Line 1135
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
Event "TRIGGER" was sent to stopped actor "x:43 (x:43)". This actor has already reached its final state, and will not transition.
Event: {"type":"TRIGGER"}
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:644: ReplicatedStorage.TS.node_modules.@rbxts.rx.internal.observable.innerFrom:57: attempt to index nil with 'subscribe'
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.rx.internal.util.reportUnhandledError', Line 25
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-core  xstate-core/interpreter.spec 11.236 s
  ● interpreter › send with delay › can send an event after a delay (delayed transitions)

    expect(received).toEqual(expected) -- deep equality

      Expected: "a"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:404
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should throw an error if initial state sent to interpreter is invalid

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: Initial state node " not found on parent state node #fetchMachine]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "Initial state node " not found on parent state node #fetchMachine", "name": "Error", "stack": "Error: Initial state node " not found on parent state node #fetchMachine
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:678
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should not update when stopped

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:697

  ● interpreter › .start() › should initialize the service

    expect(jest.fn()).toHaveBeenCalled()

      Expected number of calls: >= 1
      Received number of calls:    0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1004
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .start() › should not reinitialize a started service

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1019
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .stop() › should not execute transitions after being stopped

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● interpreter › observable › should be interoperable with RxJS, etc. via Symbol.observable

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● should notify the error observer for an errored logic when it gets subscribed after it errors

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 29
    
      Table {
        Table {
          Table {

      -       "Error: error",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1823 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1830
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "error",
      +       "name": "Error",
      +       "stack": "Error: error
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1823 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1830
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1834
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/invalid.spec 
{["__stack"] = ReplicatedStorage.TS.shared.xstate-core.invoke.spec:3172
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["matcherResult"] = {["actual"] = {{["actorId"] = 0.(machine).second.fetch, ["type"] = xstate.done.actor.0.(machine).second.fetch}, {["actorId"] = 0.(machine).first.fetch, ["type"] = xstate.done.actor.0.(machine).first.fetch}}, ["expected"] = {{["actorId"] = 0.(machine).first.fetch, ["type"] = xstate.done.actor.0.(machine).first.fetch}, {["actorId"] = 0.(machine).second.fetch, ["type"] = xstate.done.actor.0.(machine).second.fetch}}, ["message"] = expect(received).toEqual(expected) -- deep equality

- Expected  - 4
+ Received  + 4

  Table {
    Table {
-     "actorId": "0.(machine).first.fetch",
-     "type": "xstate.done.actor.0.(machine).first.fetch",
-   },
-   Table {
      "actorId": "0.(machine).second.fetch",
      "type": "xstate.done.actor.0.(machine).second.fetch",
+   },
+   Table {
+     "actorId": "0.(machine).first.fetch",
+     "type": "xstate.done.actor.0.(machine).first.fetch",
    },
  }, ["name"] = toEqual, ["pass"] = false}, ["message"] = expect(received).toEqual(expected) -- deep equality

- Expected  - 4
+ Received  + 4

  Table {
    Table {
-     "actorId": "0.(machine).first.fetch",
-     "type": "xstate.done.actor.0.(machine).first.fetch",
-   },
-   Table {
      "actorId": "0.(machine).second.fetch",
      "type": "xstate.done.actor.0.(machine).second.fetch",
+   },
+   Table {
+     "actorId": "0.(machine).first.fetch",
+     "type": "xstate.done.actor.0.(machine).first.fetch",
    },
  }, ["name"] = Error, ["stack"] = Error: expect(received).toEqual(expected) -- deep equality

- Expected  - 4
+ Received  + 4

  Table {
    Table {
-     "actorId": "0.(machine).first.fetch",
-     "type": "xstate.done.actor.0.(machine).first.fetch",
-   },
-   Table {
      "actorId": "0.(machine).second.fetch",
      "type": "xstate.done.actor.0.(machine).second.fetch",
+   },
+   Table {
+     "actorId": "0.(machine).first.fetch",
+     "type": "xstate.done.actor.0.(machine).first.fetch",
    },
  }
ReplicatedStorage.TS.shared.xstate-core.invoke.spec:3172
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
... }
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src', Line 320 - function handleError
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src', Line 333 - function throwingMatcher
Script 'ReplicatedStorage.TS.shared.xstate-core.invoke.spec', Line 3172
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-core  xstate-core/invoke.spec 7.335 s
  ● invoke › invoke config defined as src containing a machine directly should register unique and predictable child in state

    stack overflow

      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.instance-of.src.instanceof:8

  ● invoke › xstate.done.actor events should have unique names when invokee is a machine with an id property

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

 PASS   xstate-core  xstate-core/json.spec 
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-core  xstate-core/logger.spec 
  ● logger › system logger should be default logger for actors (spawned from machine)

    expect.assertions(1)
    
    Expected one assertion to be called but received zero assertion calls.

      ReplicatedStorage.TS.shared.xstate-core.logger.spec:30
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 FAIL   xstate-core  xstate-core/machine.spec 
  ● machine › machine.states › should properly register machine states

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "green",
        "yellow",
    +   "green",
        "red",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● machine › machine.events › should return the set of events accepted by machine

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    +   "TIMER",
        "PED_COUNTDOWN",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:70
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● StateNode › should list transitions

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 1
    
      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    -   "FORBIDDEN_EVENT",
    +   "TIMER",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:426
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/match.spec 
 PASS   xstate-core  xstate-core/meta.spec 
 PASS   xstate-core  xstate-core/microstep.spec 
 PASS   xstate-core  xstate-core/multiple.spec 
{{order, 0}, {one, 1}, {three, 2}, {four, 3}, {five, 4}, {six, 5}, {two, 6}, {seven, 7}, {eight, 8}, {ten, 9}, {eleven, 10}, {twelve, 11}, {nine, 12}, {thirteen, 13}, {fourteen, 14}, {fifteen, 15}}
 FAIL   xstate-core  xstate-core/order.spec 
  ● document order › should specify the correct document order for each state node

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 9
    + Received  + 9
    
    @@ -6,27 +6,27 @@
        Table {
          "one",
          1,
        },
        Table {
    -     "two",
    +     "three",
          2,
        },
        Table {
    -     "three",
    +     "four",
          3,
        },
        Table {
    -     "four",
    +     "five",
          4,
        },
        Table {
    -     "five",
    +     "six",
          5,
        },
        Table {
    -     "six",
    +     "two",
          6,
        },
        Table {
          "seven",
          7,
    @@ -34,23 +34,23 @@
        Table {
          "eight",
          8,
        },
        Table {
    -     "nine",
    +     "ten",
          9,
        },
        Table {
    -     "ten",
    +     "eleven",
          10,
        },
        Table {
    -     "eleven",
    +     "twelve",
          11,
        },
        Table {
    -     "twelve",
    +     "nine",
          12,
        },
        Table {
          "thirteen",
          13,

      ReplicatedStorage.TS.shared.xstate-core.order.spec:90
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 FAIL   xstate-core  xstate-core/parallel.spec 
  ● parallel states › should go from {"bold":"off","underline":"on","italics":"off","list":"bullets"} to {"bold":"on","underline":"on","italics":"on","list":"bullets"} on TOGGLE_BOLD, TOGGLE_ITALICS

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 2
    
      Table {

      -   "bold": "on",
      -   "italics": "on",
      +   "bold": "off",
      +   "italics": "off",
          "list": "bullets",
          "underline": "on",
        }
      ReplicatedStorage.TS.shared.xstate-core.parallel.spec:549
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/predictableExec.spec 
 FAIL   xstate-core  xstate-core/rehydration.spec 
  ● rehydration › should be able to stop a rehydrated child

    expect(received).toBe(expected) -- Object.is equality

      Expected: "c"
      Received: "b"
      ReplicatedStorage.TS.shared.xstate-core.rehydration.spec:217
      ReplicatedStorage.TS.include.RuntimeLib:148

 PASS   xstate-core  xstate-core/resolve.spec 
 PASS   xstate-core  xstate-core/setup.types.spec 
 PASS   xstate-core  xstate-core/spawn.spec 
 PASS   xstate-core  xstate-core/spawn.types.spec 
 PASS   xstate-core  xstate-core/spawnChild.spec 
 FAIL   xstate-core  xstate-core/state.spec 
  ● Test suite failed to run

    Invalid transition definition for state node '(machine).three':
    ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.indexString:3: invalid argument #3 to 'codepoint' (out of range)

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.indexString:3: invalid argument #3 to 'codepoint' (out of range)
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveTarget:38
      ReplicatedStorage.TS.include.RuntimeLib:209 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveTarget:34
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveTarget:48 function resolveTarget
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatTransition:15 function formatTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatTransitions:19
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatTransitions:22 function formatTransitions
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:121 function _initialize
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:139
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:142 function _initialize
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:106 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:42 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createMachine:49 function createMachine
      ReplicatedStorage.TS.shared.xstate-core.state.spec:12
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2060 function _execModule
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:1413 function _loadModule
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:1259
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:1258 function requireModule
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.legacy-code-todo-rewrite.jestAdapter:113
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:181
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:1245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/stateIn.spec 
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-core  xstate-core/system.spec 
  ● system › should throw an error if an actor with the system ID already exists

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 57
    
      Table {
        Table {
          Table {

      -       "Error: Actor with system ID 'test' already exists.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Actor with system ID 'test' already exists.",
      +       "name": "Error",
      +       "stack": "Error: Actor with system ID 'test' already exists.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.system.spec:213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

 PASS   xstate-core  xstate-core/tags.spec 
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:27
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 PASS   xstate-core  xstate-core/toPromise.spec 
 PASS   xstate-core  xstate-core/transient.spec 
 PASS   xstate-core  xstate-core/transition.spec 
 PASS   xstate-core  xstate-core/typeHelpers.spec 
{["__stack"] = ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.rx.internal.util.reportUnhandledError:25
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
, ["message"] = Code should not be running when globalEnv is uninitialised, ["name"] = Error, ["stack"] = Error: Code should not be running when globalEnv is uninitialised
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2043
ReplicatedStorage.TS.node_modules.@rbxts.rx.internal.util.reportUnhandledError:25
ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
}
Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2043
Script 'ReplicatedStorage.TS.node_modules.@rbxts.rx.internal.util.reportUnhandledError', Line 25
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 PASS   xstate-core  xstate-core/types.spec 
 FAIL   xstate-core  xstate-core/waitFor.spec 
  ● waitFor › should throw an error when reaching a final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181

  ● waitFor › should immediately reject for an actor in its final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181
      ReplicatedStorage.TS.include.Promise:1257
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299

act(...) is not supported in production builds of React, and might not behave as expected.
Warning: The above error occurred in one of your React components:

    in  (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in one of your React components:

    in  (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
 FAIL   xstate-react  xstate-react/createActorContext.spec 
  ● createActorContext › useActorRef should throw when the actor was not provided

    expect(received).toThrow(expected)

      Expected pattern: {"_innerRegEx": /"You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component\."/, "global": false, "ignoreCase": false, "multiline": false, "source": "\"You used a hook from " but it's not inside a <ActorProvider> component\\.\""}
      Received message: "You used a hook from " but it's not inside a <ActorProvider> component."
            Error: You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component.
            ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.createActorContext:43 function useContext
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:228
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:1566 function mountIndeterminateComponent
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3479 function beginWork
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1274
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:140
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:139 function act
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.pure:89 function render
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:232
      ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:233
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● createActorContext › useSelector should throw when the actor was not provided

    expect(received).toThrow(expected)

      Expected pattern: {"_innerRegEx": /"You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component\."/, "global": false, "ignoreCase": false, "multiline": false, "source": "\"You used a hook from " but it's not inside a <ActorProvider> component\\.\""}
      Received message: "You used a hook from " but it's not inside a <ActorProvider> component."
            Error: You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component.
            ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.createActorContext:43 function useContext
            ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.createActorContext:48 function useSelector
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:238
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:1566 function mountIndeterminateComponent
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3479 function beginWork
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1274
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:140
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:139 function act
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.pure:89 function render
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:244
      ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:245
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

act(...) is not supported in production builds of React, and might not behave as expected.
 PASS   xstate-react  xstate-react/types.spec 
act(...) is not supported in production builds of React, and might not behave as expected.
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:644: Error: ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:16: attempt to index nil with 'type'

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:593 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:512 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1005
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberCommitWork.new:457 function commitHookEffectListMount
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberCommitWork.new:2197 function commitPassiveMount
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2814
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2806
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2966
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2760
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:60
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:215
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:208 function act
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.pure:89 function render
ReplicatedStorage.TS.shared.xstate-react.utils:15
ReplicatedStorage.TS.shared.xstate-react.utils:21 function render
ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1011
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:285: ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src:644: Error: ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:16: attempt to index nil with 'type'

ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError:18 function reportUnhandledError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:586 function _reportError
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:591 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:332 function update
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:593 function _error
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:512 function _process
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1005
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberCommitWork.new:457 function commitHookEffectListMount
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberCommitWork.new:2197 function commitPassiveMount
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2814
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2806
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2806
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2966
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:2760
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:60
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:215
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:208 function act
ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.pure:89 function render
ReplicatedStorage.TS.shared.xstate-react.utils:15
ReplicatedStorage.TS.shared.xstate-react.utils:21 function render
ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1011
ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Stack Begin
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-mock.src', Line 285
Script 'ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src', Line 2045
Script 'ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.reportUnhandledError', Line 27
Script 'ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl', Line 26
Stack End
 FAIL   xstate-react  xstate-react/useActor.spec 
  ● useActor (non-strict) › should work with the useActor hook

    Unable to find an element with the text: Loading.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
    
    Folder {

        "Archivable": true,
        "ClassName": "Folder",
        "Name": "Document",
        "Parent": "ScreenGui" [ScreenGui],
        "Folder": Folder {
          "Archivable": true,
          "ClassName": "Folder",
          "Name": "Folder",
          "Parent": "Document" [Folder],
          "Frame": Frame {
            "AbsolutePosition": Vector2(0, 0),
            "AbsoluteRotation": 0,
            "AbsoluteSize": Vector2(0, 0),
            "Active": false,
            "AnchorPoint": Vector2(0, 0),
            "Archivable": true,
            "AutoLocalize": true,
            "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
            "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
            "BackgroundTransparency": 0,
            "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
            "BorderMode": EnumItem(Enum.BorderMode.Outline),
            "BorderSizePixel": 1,
            "ClassName": "Frame",
            "ClipsDescendants": false,
            "LayoutOrder": 0,
            "Name": "Frame",
            "NextSelectionDown": nil,
            "NextSelectionLeft": nil,
            "NextSelectionRight": nil,
            "NextSelectionUp": nil,
            "Parent": "Folder" [Folder],
            "Position": UDim2({0, 0}, {0, 0}),
            "RootLocalizationTable": nil,
            "Rotation": 0,
            "Selectable": false,
            "SelectionImageObject": nil,
            "Size": UDim2({0, 0}, {0, 0}),
            "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
            "Style": EnumItem(Enum.FrameStyle.Custom),
            "Visible": true,
            "ZIndex": 1,
            "1": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "Success! Data:",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "1",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "Success! Data:",
              "TextBounds": Vector2(76, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
            "2": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "fake data",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "2",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "fake data",
              "TextBounds": Vector2(45, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
          },
        },
      }
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.config:63 function getElementError
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:165
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:126
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:188
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.get-queries-for-element:30
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:155
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActor (non-strict) › should be able to use a delay provided outside of React

    expect(received).toBe(expected) -- Object.is equality

      Expected: "b"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:723
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (non-strict) › should deliver messages sent from an effect to an actor registered in the system

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1012
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should work with the useActor hook

    Unable to find an element with the text: Loading.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
    
    Folder {

        "Archivable": true,
        "ClassName": "Folder",
        "Name": "Document",
        "Parent": "ScreenGui" [ScreenGui],
        "Folder": Folder {
          "Archivable": true,
          "ClassName": "Folder",
          "Name": "Folder",
          "Parent": "Document" [Folder],
          "Frame": Frame {
            "AbsolutePosition": Vector2(0, 0),
            "AbsoluteRotation": 0,
            "AbsoluteSize": Vector2(0, 0),
            "Active": false,
            "AnchorPoint": Vector2(0, 0),
            "Archivable": true,
            "AutoLocalize": true,
            "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
            "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
            "BackgroundTransparency": 0,
            "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
            "BorderMode": EnumItem(Enum.BorderMode.Outline),
            "BorderSizePixel": 1,
            "ClassName": "Frame",
            "ClipsDescendants": false,
            "LayoutOrder": 0,
            "Name": "Frame",
            "NextSelectionDown": nil,
            "NextSelectionLeft": nil,
            "NextSelectionRight": nil,
            "NextSelectionUp": nil,
            "Parent": "Folder" [Folder],
            "Position": UDim2({0, 0}, {0, 0}),
            "RootLocalizationTable": nil,
            "Rotation": 0,
            "Selectable": false,
            "SelectionImageObject": nil,
            "Size": UDim2({0, 0}, {0, 0}),
            "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
            "Style": EnumItem(Enum.FrameStyle.Custom),
            "Visible": true,
            "ZIndex": 1,
            "1": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "Success! Data:",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "1",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "Success! Data:",
              "TextBounds": Vector2(76, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
            "2": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "fake data",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "2",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "fake data",
              "TextBounds": Vector2(45, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
          },
        },
      }
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.config:63 function getElementError
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:165
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:126
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:188
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.get-queries-for-element:30
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:155
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActor (strict) › should maintain the same reference for objects created when resolving initial state

    expect(received).toBe(expected) -- Object.is equality

      Expected: 2
      Received: 1
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:549
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should be able to use a delay provided outside of React

    expect(received).toBe(expected) -- Object.is equality

      Expected: "b"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:723
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should not invoke initial services more than once

    expect(received).toEqual(expected) -- deep equality

      Expected: 2
      Received: 1
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:807
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should deliver messages sent from an effect to an actor registered in the system

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 2
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1012
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

act(...) is not supported in production builds of React, and might not behave as expected.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
Warning: The above error occurred in the <Test> component:

    in Test (at ReplicatedStorage.TS.node_modules.@rbxts.react:74)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
 FAIL   xstate-react  xstate-react/useActorRef.spec 
  ● useActorRef (non-strict) › should work with a promise actor

    expect(received).toBe(expected) -- Object.is equality

      Expected: ""
      Received: "nil"
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:350
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActorRef (non-strict) › should be able to rerender with a new machine

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:503 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:510 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:528
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › should be able to rehydrate an incoming new machine using the persisted state of the previous one

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:557 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:564 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:583
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › should not create extra rerenders when recreating the actor on the machine change

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:593 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:598 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:605
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › all renders should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:622 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:640 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:647
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › all commits should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:670 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:683 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:690
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › should be able to rehydrate an inline actor when changing machines

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:718 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:722 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:739
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › actions created by a layout effect should access the latest closure values

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 0
    
      Table {
        1,
    -   1,
      }

      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:102
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should deliver messages sent from an effect to the root actor registered in the system

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 2
      Received number of calls: 1
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:298
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should work with a promise actor

    expect(received).toBe(expected) -- Object.is equality

      Expected: ""
      Received: "nil"
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:350
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActorRef (strict) › should be able to rerender with a new machine

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:503 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:510 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:528
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should be able to rehydrate an incoming new machine using the persisted state of the previous one

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:557 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:564 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:583
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should not create extra rerenders when recreating the actor on the machine change

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:593 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:598 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:605
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › all renders should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:622 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:640 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:647
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › all commits should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:670 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:683 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:690
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should be able to rehydrate an inline actor when changing machines

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:718 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:722 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:739
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

act(...) is not supported in production builds of React, and might not behave as expected.
 FAIL   xstate-react  xstate-react/useSelector.spec 
  ● useSelector (non-strict) › should work with the shallowEqual comparison function

    expect(received).toEqual(expected) -- deep equality

      Expected: "1"
      Received: "0"
      ReplicatedStorage.TS.shared.xstate-react.useSelector.spec:250
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useSelector (strict) › should work with the shallowEqual comparison function

    expect(received).toEqual(expected) -- deep equality

      Expected: "1"
      Received: "0"
      ReplicatedStorage.TS.shared.xstate-react.useSelector.spec:250
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

Summary of all failing tests
 FAIL  xstate-core/actions.spec 
  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state gets reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 2
    
      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1152
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● entry/exit actions › parallel states › should reenter parallel region when a parallel state is reentered while targeting another region

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 2
    
      Table {

      +   "exit: ready.devicesInfo",
          "exit: ready.camera.on",
          "exit: ready.camera",
      -   "exit: ready.devicesInfo",
          "exit: ready",
          "enter: ready",
      -   "enter: ready.devicesInfo",
          "enter: ready.camera",
          "enter: ready.camera.off",
      +   "enter: ready.devicesInfo",
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:1187
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● forwardTo() › should not cause an infinite loop when forwarding to undefined

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 49
    
      Table {
        Table {
          Table {

      -       "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Attempted to forward event to undefined actor. This risks an infinite loop in the sender.",
      +       "name": "Error",
      +       "stack": "Error: Attempted to forward event to undefined actor. This risks an infinite loop in the sender.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:161
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:29 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:31 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2302
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2305
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● log() › should log a string

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2317

  ● log() › should log an expression

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2333

  ● sendTo › should error if given a string

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 39
    
      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with sendTo; use sendTo({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.send:19 function resolveSendTo
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:2866
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2871
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● sendTo › should not attempt to deliver a delayed event to the spawned actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:2969

  ● sendTo › should not attempt to deliver a delayed event to the invoked actor's ID that was stopped since the event was scheduled

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3034

  ● raise › should error if given a string

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 39
    
      Table {
        Table {
          Table {

      -       "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Only event objects may be used with raise; use raise({ type: \"a string\" }) instead",
      +       "name": "Error",
      +       "stack": "Error: Only event objects may be used with raise; use raise({ type: \"a string\" }) instead
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.raise:14 function resolveRaise
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.shared.xstate-core.actions.spec:3208
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should call transition actions in document order for same-level parallel regions

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "a",
        "b",
    +   "a",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3725
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should call transition actions in document order for states at different levels of parallel regions

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "a1",
        "b",
    +   "a1",
      }

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3763
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● actions › should warn if called in custom action

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.actions.spec:3999


 FAIL  xstate-core/actor.spec 
  ● spawning observables › should notify direct child listeners with final snapshot before it gets stopped

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

      Expected: 3
      Received
             1: 0
             2: 1
             3: 2
      Number of calls: 3
      ReplicatedStorage.TS.shared.xstate-core.actor.spec:599
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● spawning observables › should not notify direct child listeners after it gets stopped

    expect(jest.fn()).never.toHaveBeenCalled()

      Expected number of calls: 0
      Received number of calls: 1
      1: {"_subscription": {"closed": true, "complete": [Function anonymous], "error": [Function anonymous], "isStopped": true, "next": [Function anonymous]}, "context": 3, "status": "active"}
      ReplicatedStorage.TS.shared.xstate-core.actor.spec:646
      ReplicatedStorage.TS.include.RuntimeLib:148


 FAIL  xstate-core/actorLogic.spec 
  ● promise logic (fromPromise) › should not invoke a rejected promise again

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  0
    + Received  + 13
    
      Table {

          "error": 1,
          "status": "error",
      +   "trace": "
      +
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:120 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:22 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:484 function start
      + ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:181
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.actorLogic.spec:186
      ReplicatedStorage.TS.include.RuntimeLib:148


 FAIL  xstate-core/after.spec 
  ● delayed transitions › delay expressions › should evaluate the expression (function) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:300
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● delayed transitions › delay expressions › should evaluate the expression (string) to determine the delay

    expect(jest.fn()).toBeCalledWith(...expected)

      Expected: {"delay": 500, "type": "ACTIVATE"}
      Number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.after.spec:339
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/assert.spec 10.049 s
  ● assertion helpers › assertEvent asserts the correct event type

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● assertion helpers › assertEvent asserts multiple event types

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.


 FAIL  xstate-core/deterministic.spec 
  ● deterministic machine › forbidden events › undefined transitions should forbid events

    expect(received).toEqual(expected) -- deep equality

      Expected: {"red": "walk"}
      Received: "green"
      ReplicatedStorage.TS.shared.xstate-core.deterministic.spec:274
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/errors.spec 45.358 s
  ● error handling › does not cause an infinite loop when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:103
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't crash the actor when an error is thrown in subscribe

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:141
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › doesn't notify error listener when an error is thrown in subscribe

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported globally in absence of error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its parent

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 31
    
      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_parent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_parent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:245
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:259
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:261
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › unhandled rejection of a promise actor should be reported to the existing error listener of its grandparent

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 43
    
      Table {
        Table {
          Table {

      -       "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
      +       "message": "unhandled_rejection_in_promise_actor_with_grandparent_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_rejection_in_promise_actor_with_grandparent_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:271
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.promise:151 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:299
      + ReplicatedStorage.TS.include.RuntimeLib:148
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:301
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● error handling › handled sync errors thrown when starting a child actor should be reported globally when not all of its own observers come with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors thrown when starting a child actor should be reported twice globally when not all of its own observers come with an error listener and when the root has no error listener of its own

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › unhandled sync errors should notify the root error listener

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 35
    
      Table {
        Table {
          Table {

      -       "Error: unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "unhandled_sync_error_in_actor_start_with_root_error_listener",
      +       "name": "Error",
      +       "stack": "Error: unhandled_sync_error_in_actor_start_with_root_error_listener
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:454
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actors.callback:124 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:258
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:262 function start
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:457
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:456 function start
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:469
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:470
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › unhandled sync errors thrown when starting an actor should crash the parent

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown by the error listener should be reported globally

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error should be reported globally if not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › uncaught error and an error thrown by the error listener should both be reported globally when not every observer comes with an error listener

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● error handling › error thrown in initial custom entry action should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_in_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:641 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:649
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:652
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown when resolving initial builtin entry action should error the actor immediately

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_when_resolving_initial_entry_action]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_when_resolving_initial_entry_action", "name": "Error", "stack": "Error: error_thrown_when_resolving_initial_entry_action
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:658
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.assign:27 function resolveAssign
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:248 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:662
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:665
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › error thrown by a custom entry action when transitioning should error the actor

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: error_thrown_in_a_custom_entry_action_when_transitioning]"
      Received: {"__stack": "ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "error_thrown_in_a_custom_entry_action_when_transitioning", "name": "Error", "stack": "Error: error_thrown_in_a_custom_entry_action_when_transitioning
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:683 function entry
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:193 function actionExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:37 function resolveAndExecuteActionsWithContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:694
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:699
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● error handling › should error when a guard throws when transitioning

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  2
    + Received  + 55
    
      Table {

      -   "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      -       error_thrown_in_guard_when_transitioning",
      +   "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +   "message": "Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning",
      +   "name": "Error",
      +   "stack": "Error: Unable to evaluate guard in transition for event 'NEXT' in state node '(machine).a':
      + Error: error_thrown_in_guard_when_transitioning
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.errors.spec:770
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
        }
      ReplicatedStorage.TS.shared.xstate-core.errors.spec:775
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/eventDescriptors.spec 
  ● event descriptors › should not match infix wildcards

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:256

  ● event descriptors › should not match wildcards as part of tokens

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.eventDescriptors.spec:284


 FAIL  xstate-core/examples/6.16.spec 
  ● Example 6.16 › should go from {"A":"D","B":"F"} to {"A":"C","B":"F"} on 1, 5, 3

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

      -   "A": "C",
      +   "A": "D",
          "B": "F",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/examples/6.17.spec 
  ● Example 6.17 › should go from X to {"Y":{"A":"C","B":"G"}} on 2, back, 4

    expect(received).toEqual(expected) -- deep equality

      Expected: {"Y": {"A": "C", "B": "G"}}
      Received: "X"
      ReplicatedStorage.TS.shared.xstate-core.examples.6.17.spec:91
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/examples/6.9.spec 
  ● Example 6.9 › should go from {"A":"C"} to {"A":{"B":"E"}} on 4, 6, 1

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

          "A": Table {
      -     "B": "E",
      +     "C": "G",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● Example 6.9 › should go from {"A":"B"} to {"A":{"C":"G"}} on 5, 6, 1

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

          "A": Table {
      -     "C": "G",
      +     "B": "E",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/guards.spec 
  ● guard conditions › should throw if string transition is not defined

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  2
    + Received  + 55
    
      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      -       Guard 'doesNotExist' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'doesNotExist' in transition for event 'BAD_COND' in state node '(machine).foo':
      + Error: Guard 'doesNotExist' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:280
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:283
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● referencing guards › should throw for guards with missing predicates

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  2
    + Received  + 55
    
      Table {
        Table {
          Table {

      -       "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      -       Guard 'missing-predicate' is not implemented.'.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.",
      +       "name": "Error",
      +       "stack": "Error: Unable to evaluate guard 'missing-predicate' in transition for event 'EVENT' in state node 'invalid-predicate.active':
      + Error: Guard 'missing-predicate' is not implemented.'.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:378
      + ReplicatedStorage.TS.include.RuntimeLib:209 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:374 function next
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:55 function transitionAtomicNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.transitionNode:10 function transitionNode
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:207 function getTransitionData
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.selectTransitions:3 function selectTransitions
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:49 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.guards.spec:836
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.guards.spec:839
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/id.spec 
  ● State node IDs › should go from {"B":"foo"} to {"A":"foo"} on NEXT,NEXT

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {

      -   "A": "foo",
      +   "B": "foo",
        }
      ReplicatedStorage.TS.shared.xstate-core.utils:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/inspect.spec 
  ● inspect › can inspect communications between actors

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 50
    + Received  + 50
    
    @@ -70,50 +70,28 @@

            "sourceId": "x:2",
            "targetId": "x:3",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:3",
            "event": Table {
      -       "type": "xstate.init",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
            },
      -     "snapshot": Table {
      -       "status": "active",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:3",
      +     "targetId": "x:3",
      +     "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:2",
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "loadChild",
      +       "type": "xstate.init",
            },
            "snapshot": Table {
      -       "value": "loading",
      -     },
              "status": "active",
      -     "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "actorId": "x:1",
      -     "event": Table {
      -       "type": "load",
      -     },
      -     "snapshot": Table {
      -       "value": "waiting",
            },
            "status": "active",
            "type": "@xstate.snapshot",
      -   },
      -   Table {
      -     "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      -     },
      -     "sourceId": "x:3",
      -     "targetId": "x:3",
      -     "type": "@xstate.event",
          },
          Table {
            "event": Table {
              "actorId": "0.(machine).loading",
              "output": 42,
      @@ -122,48 +100,49 @@
            "sourceId": "x:3",
            "targetId": "x:2",
            "type": "@xstate.event",
          },
          Table {
      +     "actorId": "x:3",
            "event": Table {
      -       "type": "toParent",
      +       "data": 42,
      +       "type": "xstate.promise.resolve",
      +     },
      +     "snapshot": Table {
      +       "output": 42,
      +       "status": "done",
            },
      -     "sourceId": "x:2",
      -     "targetId": "x:1",
      -     "type": "@xstate.event",
      +     "status": "done",
      +     "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:1",
      +     "actorId": "x:2",
            "event": Table {
      -       "type": "toParent",
      +       "type": "loadChild",
            },
            "snapshot": Table {
      -       "value": "waiting",
      +       "value": "loading",
            },
            "status": "active",
            "type": "@xstate.snapshot",
          },
          Table {
            "event": Table {
      -       "actorId": "child",
      -       "type": "xstate.done.actor.child",
      +       "type": "toParent",
            },
            "sourceId": "x:2",
            "targetId": "x:1",
            "type": "@xstate.event",
          },
          Table {
      -     "actorId": "x:1",
            "event": Table {
              "actorId": "child",
              "type": "xstate.done.actor.child",
            },
      -     "snapshot": Table {
      -       "value": "success",
      -     },
      -     "status": "active",
      -     "type": "@xstate.snapshot",
      +     "sourceId": "x:2",
      +     "targetId": "x:1",
      +     "type": "@xstate.event",
          },
          Table {
            "actorId": "x:2",
            "event": Table {
              "actorId": "0.(machine).loading",
      @@ -175,18 +154,39 @@
            },
            "status": "done",
            "type": "@xstate.snapshot",
          },
          Table {
      -     "actorId": "x:3",
      +     "actorId": "x:1",
      +     "event": Table {
      +       "type": "load",
      +     },
      +     "snapshot": Table {
      +       "value": "waiting",
      +     },
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
            "event": Table {
      -       "data": 42,
      -       "type": "xstate.promise.resolve",
      +       "type": "toParent",
            },
            "snapshot": Table {
      -       "output": 42,
      -       "status": "done",
      +       "value": "waiting",
            },
      -     "status": "done",
      +     "status": "active",
      +     "type": "@xstate.snapshot",
      +   },
      +   Table {
      +     "actorId": "x:1",
      +     "event": Table {
      +       "actorId": "child",
      +       "type": "xstate.done.actor.child",
      +     },
      +     "snapshot": Table {
      +       "value": "success",
      +     },
      +     "status": "active",
            "type": "@xstate.snapshot",
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.inspect.spec:287
      ReplicatedStorage.TS.include.RuntimeLib:148


 FAIL  xstate-core/interpreter.spec 11.236 s
  ● interpreter › send with delay › can send an event after a delay (delayed transitions)

    expect(received).toEqual(expected) -- deep equality

      Expected: "a"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:404
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:353
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should throw an error if initial state sent to interpreter is invalid

    expect(received).toEqual(expected) -- deep equality

      Expected: "[Error: Initial state node " not found on parent state node #fetchMachine]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      ", "message": "Initial state node " not found on parent state node #fetchMachine", "name": "Error", "stack": "Error: Initial state node " not found on parent state node #fetchMachine
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatInitialTransition:10 function formatInitialTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:359
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.memo:16 function memo
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:358 function getInitial
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:14 function iter
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodes:21 function getInitialStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getInitialStateNodesWithTheirAncestors:6 function getInitialStateNodesWithTheirAncestors
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getAllStateNodes:26 function getAllStateNodes
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.getStateValue:7 function getStateValue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.State:86 function createMachineSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:212 function getPreInitialState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:233 function getInitialSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:245
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:234 function _initState
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:224 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:676
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      "}
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:678
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › should not update when stopped

    attempt to index function with 'mock'

      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:697

  ● interpreter › .start() › should initialize the service

    expect(jest.fn()).toHaveBeenCalled()

      Expected number of calls: >= 1
      Received number of calls:    0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1004
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .start() › should not reinitialize a started service

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1019
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● interpreter › .stop() › should not execute transitions after being stopped

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● interpreter › observable › should be interoperable with RxJS, etc. via Symbol.observable

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.

  ● should notify the error observer for an errored logic when it gets subscribed after it errors

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 29
    
      Table {
        Table {
          Table {

      -       "Error: error",
      +       "__stack": "ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1823 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1830
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "error",
      +       "name": "Error",
      +       "stack": "Error: error
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1823 function entry
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:187
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:185
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:271
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:270 function update
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:480 function start
      + ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1830
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.interpreter.spec:1834
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/invoke.spec 7.335 s
  ● invoke › invoke config defined as src containing a machine directly should register unique and predictable child in state

    stack overflow

      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.instance-of.src.instanceof:8

  ● invoke › xstate.done.actor events should have unique names when invokee is a machine with an id property

    Exceeded timeout of 5000 ms for a test.

      Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test.


 FAIL  xstate-core/logger.spec 
  ● logger › system logger should be default logger for actors (spawned from machine)

    expect.assertions(1)
    
    Expected one assertion to be called but received zero assertion calls.

      ReplicatedStorage.TS.shared.xstate-core.logger.spec:30
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/machine.spec 
  ● machine › machine.states › should properly register machine states

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "green",
        "yellow",
    +   "green",
        "red",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:65
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● machine › machine.events › should return the set of events accepted by machine

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 1
    
      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    +   "TIMER",
        "PED_COUNTDOWN",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:70
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● StateNode › should list transitions

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 1
    
      Table {
    -   "TIMER",
        "POWER_OUTAGE",
    -   "FORBIDDEN_EVENT",
    +   "TIMER",
      }

      ReplicatedStorage.TS.shared.xstate-core.machine.spec:426
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/order.spec 
  ● document order › should specify the correct document order for each state node

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 9
    + Received  + 9
    
    @@ -6,27 +6,27 @@
        Table {
          "one",
          1,
        },
        Table {
    -     "two",
    +     "three",
          2,
        },
        Table {
    -     "three",
    +     "four",
          3,
        },
        Table {
    -     "four",
    +     "five",
          4,
        },
        Table {
    -     "five",
    +     "six",
          5,
        },
        Table {
    -     "six",
    +     "two",
          6,
        },
        Table {
          "seven",
          7,
    @@ -34,23 +34,23 @@
        Table {
          "eight",
          8,
        },
        Table {
    -     "nine",
    +     "ten",
          9,
        },
        Table {
    -     "ten",
    +     "eleven",
          10,
        },
        Table {
    -     "eleven",
    +     "twelve",
          11,
        },
        Table {
    -     "twelve",
    +     "nine",
          12,
        },
        Table {
          "thirteen",
          13,

      ReplicatedStorage.TS.shared.xstate-core.order.spec:90
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/parallel.spec 
  ● parallel states › should go from {"bold":"off","underline":"on","italics":"off","list":"bullets"} to {"bold":"on","underline":"on","italics":"on","list":"bullets"} on TOGGLE_BOLD, TOGGLE_ITALICS

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 2
    + Received  + 2
    
      Table {

      -   "bold": "on",
      -   "italics": "on",
      +   "bold": "off",
      +   "italics": "off",
          "list": "bullets",
          "underline": "on",
        }
      ReplicatedStorage.TS.shared.xstate-core.parallel.spec:549
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/rehydration.spec 
  ● rehydration › should be able to stop a rehydrated child

    expect(received).toBe(expected) -- Object.is equality

      Expected: "c"
      Received: "b"
      ReplicatedStorage.TS.shared.xstate-core.rehydration.spec:217
      ReplicatedStorage.TS.include.RuntimeLib:148


 FAIL  xstate-core/state.spec 
  ● Test suite failed to run

    Invalid transition definition for state node '(machine).three':
    ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.indexString:3: invalid argument #3 to 'codepoint' (out of range)

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.indexString:3: invalid argument #3 to 'codepoint' (out of range)
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveTarget:38
      ReplicatedStorage.TS.include.RuntimeLib:209 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveTarget:34
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveTarget:48 function resolveTarget
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatTransition:15 function formatTransition
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatTransitions:19
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.formatTransitions:22 function formatTransitions
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:121 function _initialize
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:139
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateNode:142 function _initialize
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:106 function constructor
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:42 function new
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createMachine:49 function createMachine
      ReplicatedStorage.TS.shared.xstate-core.state.spec:12
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:2060 function _execModule
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:1413 function _loadModule
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:1259
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-runtime.src:1258 function requireModule
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.legacy-code-todo-rewrite.jestAdapter:113
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:181
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:1245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/system.spec 
  ● system › should throw an error if an actor with the system ID already exists

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  -  1
    + Received  + 57
    
      Table {
        Table {
          Table {

      -       "Error: Actor with system ID 'test' already exists.",
      +       "__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
      +       "message": "Actor with system ID 'test' already exists.",
      +       "name": "Error",
      +       "stack": "Error: Actor with system ID 'test' already exists.
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:137
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:209 function constructor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:67 function new
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:696 function createActor
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.actions.spawnChild:27 function resolveSpawn
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveAndExecuteActionsWithContext:46 function resolveAndExecuteActionsWithContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.resolveActionsAndContext:6 function resolveActionsAndContext
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.enterStates:71 function enterStates
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.microstep:35 function microstep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.state.macrostep:70 function macrostep
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.StateMachine:201 function transition
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:491
      + ReplicatedStorage.TS.include.RuntimeLib:195 function try
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:490 function _process
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      + ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      + ReplicatedStorage.TS.shared.xstate-core.system.spec:210
      + ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      + ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299
      + ",
            },
          },
        }
      ReplicatedStorage.TS.shared.xstate-core.system.spec:213
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-core/waitFor.spec 
  ● waitFor › should throw an error when reaching a final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:546
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:543 function _complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:324 function update
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:515 function _process
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:53 function flush
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.Mailbox:45 function enqueue
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:623 function _send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createSystem:163
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:634 function send
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.polyfill.bind:17
      ReplicatedStorage.TS.shared.xstate-core.waitFor.spec:115
      ReplicatedStorage.TS.node_modules.@rbxts.luau-polyfill.out.Timers.makeTimerImpl:26
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181

  ● waitFor › should immediately reject for an actor in its final state that does not match the predicate

    expect(received).rejects.toEqual(expected) -- deep equality

      Expected: "[Error: Actor terminated without satisfying predicate]"
      Received: {"__stack": "ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      ", "message": "Actor terminated without satisfying predicate", "name": "Error", "stack": "Error: Actor terminated without satisfying predicate
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:112 function complete
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:354
      ReplicatedStorage.TS.include.RuntimeLib:195 function try
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:351 function subscribe
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.utils.misc.waitFor:104
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299
      "}
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.expect.src:227
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:181
      ReplicatedStorage.TS.include.Promise:1257
      ReplicatedStorage.TS.include.Promise:172 function runExecutor
      ReplicatedStorage.TS.include.Promise:299


 FAIL  xstate-react/createActorContext.spec 
  ● createActorContext › useActorRef should throw when the actor was not provided

    expect(received).toThrow(expected)

      Expected pattern: {"_innerRegEx": /"You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component\."/, "global": false, "ignoreCase": false, "multiline": false, "source": "\"You used a hook from " but it's not inside a <ActorProvider> component\\.\""}
      Received message: "You used a hook from " but it's not inside a <ActorProvider> component."
            Error: You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component.
            ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.createActorContext:43 function useContext
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:228
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:1566 function mountIndeterminateComponent
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3479 function beginWork
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1274
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:140
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:139 function act
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.pure:89 function render
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:232
      ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:233
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● createActorContext › useSelector should throw when the actor was not provided

    expect(received).toThrow(expected)

      Expected pattern: {"_innerRegEx": /"You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component\."/, "global": false, "ignoreCase": false, "multiline": false, "source": "\"You used a hook from " but it's not inside a <ActorProvider> component\\.\""}
      Received message: "You used a hook from " but it's not inside a <ActorProvider> component."
            Error: You used a hook from "ActorProvider" but it's not inside a <ActorProvider> component.
            ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.createActorContext:43 function useContext
            ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.createActorContext:48 function useSelector
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:238
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:1566 function mountIndeterminateComponent
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3479 function beginWork
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
            ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1274
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:140
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.jsHelpers.react-dom.test-utils.ReactTestUtilsPublicAct:139 function act
            ReplicatedStorage.TS.node_modules.@rbxts.react-testing-library.pure:89 function render
            ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:244
      ReplicatedStorage.TS.shared.xstate-react.createActorContext.spec:245
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-react/useActor.spec 
  ● useActor (non-strict) › should work with the useActor hook

    Unable to find an element with the text: Loading.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
    
    Folder {

        "Archivable": true,
        "ClassName": "Folder",
        "Name": "Document",
        "Parent": "ScreenGui" [ScreenGui],
        "Folder": Folder {
          "Archivable": true,
          "ClassName": "Folder",
          "Name": "Folder",
          "Parent": "Document" [Folder],
          "Frame": Frame {
            "AbsolutePosition": Vector2(0, 0),
            "AbsoluteRotation": 0,
            "AbsoluteSize": Vector2(0, 0),
            "Active": false,
            "AnchorPoint": Vector2(0, 0),
            "Archivable": true,
            "AutoLocalize": true,
            "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
            "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
            "BackgroundTransparency": 0,
            "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
            "BorderMode": EnumItem(Enum.BorderMode.Outline),
            "BorderSizePixel": 1,
            "ClassName": "Frame",
            "ClipsDescendants": false,
            "LayoutOrder": 0,
            "Name": "Frame",
            "NextSelectionDown": nil,
            "NextSelectionLeft": nil,
            "NextSelectionRight": nil,
            "NextSelectionUp": nil,
            "Parent": "Folder" [Folder],
            "Position": UDim2({0, 0}, {0, 0}),
            "RootLocalizationTable": nil,
            "Rotation": 0,
            "Selectable": false,
            "SelectionImageObject": nil,
            "Size": UDim2({0, 0}, {0, 0}),
            "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
            "Style": EnumItem(Enum.FrameStyle.Custom),
            "Visible": true,
            "ZIndex": 1,
            "1": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "Success! Data:",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "1",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "Success! Data:",
              "TextBounds": Vector2(76, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
            "2": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "fake data",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "2",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "fake data",
              "TextBounds": Vector2(45, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
          },
        },
      }
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.config:63 function getElementError
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:165
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:126
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:188
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.get-queries-for-element:30
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:155
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActor (non-strict) › should be able to use a delay provided outside of React

    expect(received).toBe(expected) -- Object.is equality

      Expected: "b"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:723
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (non-strict) › should deliver messages sent from an effect to an actor registered in the system

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 1
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1012
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should work with the useActor hook

    Unable to find an element with the text: Loading.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
    
    Folder {

        "Archivable": true,
        "ClassName": "Folder",
        "Name": "Document",
        "Parent": "ScreenGui" [ScreenGui],
        "Folder": Folder {
          "Archivable": true,
          "ClassName": "Folder",
          "Name": "Folder",
          "Parent": "Document" [Folder],
          "Frame": Frame {
            "AbsolutePosition": Vector2(0, 0),
            "AbsoluteRotation": 0,
            "AbsoluteSize": Vector2(0, 0),
            "Active": false,
            "AnchorPoint": Vector2(0, 0),
            "Archivable": true,
            "AutoLocalize": true,
            "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
            "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
            "BackgroundTransparency": 0,
            "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
            "BorderMode": EnumItem(Enum.BorderMode.Outline),
            "BorderSizePixel": 1,
            "ClassName": "Frame",
            "ClipsDescendants": false,
            "LayoutOrder": 0,
            "Name": "Frame",
            "NextSelectionDown": nil,
            "NextSelectionLeft": nil,
            "NextSelectionRight": nil,
            "NextSelectionUp": nil,
            "Parent": "Folder" [Folder],
            "Position": UDim2({0, 0}, {0, 0}),
            "RootLocalizationTable": nil,
            "Rotation": 0,
            "Selectable": false,
            "SelectionImageObject": nil,
            "Size": UDim2({0, 0}, {0, 0}),
            "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
            "Style": EnumItem(Enum.FrameStyle.Custom),
            "Visible": true,
            "ZIndex": 1,
            "1": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "Success! Data:",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "1",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "Success! Data:",
              "TextBounds": Vector2(76, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
            "2": TextLabel {
              "AbsolutePosition": Vector2(0, 0),
              "AbsoluteRotation": 0,
              "AbsoluteSize": Vector2(0, 0),
              "Active": false,
              "AnchorPoint": Vector2(0, 0),
              "Archivable": true,
              "AutoLocalize": true,
              "AutomaticSize": EnumItem(Enum.AutomaticSize.None),
              "BackgroundColor3": Color3(0.639216, 0.635294, 0.647059),
              "BackgroundTransparency": 0,
              "BorderColor3": Color3(0.105882, 0.164706, 0.207843),
              "BorderMode": EnumItem(Enum.BorderMode.Outline),
              "BorderSizePixel": 1,
              "ClassName": "TextLabel",
              "ClipsDescendants": false,
              "ContentText": "fake data",
              "Font": EnumItem(Enum.Font.Legacy),
              "LayoutOrder": 0,
              "LineHeight": 1,
              "MaxVisibleGraphemes": -1,
              "Name": "2",
              "NextSelectionDown": nil,
              "NextSelectionLeft": nil,
              "NextSelectionRight": nil,
              "NextSelectionUp": nil,
              "Parent": "Frame" [Frame],
              "Position": UDim2({0, 0}, {0, 0}),
              "RichText": false,
              "RootLocalizationTable": nil,
              "Rotation": 0,
              "Selectable": false,
              "SelectionImageObject": nil,
              "Size": UDim2({0, 0}, {0, 0}),
              "SizeConstraint": EnumItem(Enum.SizeConstraint.RelativeXY),
              "Text": "fake data",
              "TextBounds": Vector2(45, 12),
              "TextColor3": Color3(0.105882, 0.164706, 0.207843),
              "TextFits": false,
              "TextScaled": false,
              "TextSize": 8,
              "TextStrokeColor3": Color3(0, 0, 0),
              "TextStrokeTransparency": 1,
              "TextTransparency": 0,
              "TextTruncate": EnumItem(Enum.TextTruncate.None),
              "TextWrapped": false,
              "TextXAlignment": EnumItem(Enum.TextXAlignment.Center),
              "TextYAlignment": EnumItem(Enum.TextYAlignment.Center),
              "Visible": true,
              "ZIndex": 1,
            },
          },
        },
      }
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.config:63 function getElementError
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:165
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:126
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.query-helpers:188
      ReplicatedStorage.TS.node_modules.@rbxts.dom-testing-library.get-queries-for-element:30
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:155
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActor (strict) › should maintain the same reference for objects created when resolving initial state

    expect(received).toBe(expected) -- Object.is equality

      Expected: 2
      Received: 1
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:549
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should be able to use a delay provided outside of React

    expect(received).toBe(expected) -- Object.is equality

      Expected: "b"
      Received: "c"
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:723
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should not invoke initial services more than once

    expect(received).toEqual(expected) -- deep equality

      Expected: 2
      Received: 1
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:807
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActor (strict) › should deliver messages sent from an effect to an actor registered in the system

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 2
      Received number of calls: 0
      ReplicatedStorage.TS.shared.xstate-react.useActor.spec:1012
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-react/useActorRef.spec 
  ● useActorRef (non-strict) › should work with a promise actor

    expect(received).toBe(expected) -- Object.is equality

      Expected: ""
      Received: "nil"
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:350
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActorRef (non-strict) › should be able to rerender with a new machine

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:503 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:510 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:528
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › should be able to rehydrate an incoming new machine using the persisted state of the previous one

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:557 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:564 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:583
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › should not create extra rerenders when recreating the actor on the machine change

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:593 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:598 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:605
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › all renders should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:622 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:640 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:647
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › all commits should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:670 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:683 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:690
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (non-strict) › should be able to rehydrate an inline actor when changing machines

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:718 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:722 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:739
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › actions created by a layout effect should access the latest closure values

    expect(received).toEqual(expected) -- deep equality
    
    - Expected  - 1
    + Received  + 0
    
      Table {
        1,
    -   1,
      }

      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:102
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should deliver messages sent from an effect to the root actor registered in the system

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

      Expected number of calls: 2
      Received number of calls: 1
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:298
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should work with a promise actor

    expect(received).toBe(expected) -- Object.is equality

      Expected: ""
      Received: "nil"
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:350
      ReplicatedStorage.TS.include.RuntimeLib:148

  ● useActorRef (strict) › should be able to rerender with a new machine

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:503 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:510 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:528
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should be able to rehydrate an incoming new machine using the persisted state of the previous one

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:557 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:564 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:583
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should not create extra rerenders when recreating the actor on the machine change

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:593 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:598 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:605
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › all renders should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:622 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:640 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:647
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › all commits should be consistent - a value derived in render should be derived from the latest source

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:670 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:683 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:690
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useActorRef (strict) › should be able to rehydrate an inline actor when changing machines

    attempt to index nil with 'getPersistedSnapshot'

      ReplicatedStorage.TS.node_modules.@rbxts.xstate-core.createActor:643 function getPersistedSnapshot
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:26 function useIdleActorRef
      ReplicatedStorage.TS.node_modules.@rbxts.xstate-react.useActorRef:40 function useActorRef
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:718 function Test
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:3120 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:204 function renderWithHooks
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:860 function updateFunctionComponent
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberBeginWork.new:3503 function beginWork
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:245
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.invokeGuardedCallbackImpl:26 function invokeGuardedCallbackProd
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.shared.ReactErrorUtils:49
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:3438
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1960
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1845
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1794
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:1121
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:828
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:235
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.scheduler.Scheduler:358 function unstable_runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:163 function runWithPriority
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:225
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.SchedulerWithReactIntegration.new:206 function flushSyncCallbackQueue
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberWorkLoop.new:685
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1889 function dispatchAction
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.react-reconciler.ReactFiberHooks.new:1191
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:722 function Activated
      ReplicatedStorage.TS.node_modules.@rbxts.react-roblox-fire.fireEvent:26 function fireEvent
      ReplicatedStorage.TS.shared.xstate-react.utils:52 function fireClickEvent
      ReplicatedStorage.TS.shared.xstate-react.useActorRef.spec:739
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299


 FAIL  xstate-react/useSelector.spec 
  ● useSelector (non-strict) › should work with the shallowEqual comparison function

    expect(received).toEqual(expected) -- deep equality

      Expected: "1"
      Received: "0"
      ReplicatedStorage.TS.shared.xstate-react.useSelector.spec:250
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299

  ● useSelector (strict) › should work with the shallowEqual comparison function

    expect(received).toEqual(expected) -- deep equality

      Expected: "1"
      Received: "0"
      ReplicatedStorage.TS.shared.xstate-react.useSelector.spec:250
      ReplicatedStorage.TS.node_modules.@rbxts.JestLua.node_modules.@jsdotlua.jest-circus.src.circus.utils:367
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:172 function runExecutor
      ReplicatedStorage.TS.node_modules.@rbxts.ReactLua.node_modules.@jsdotlua.promise.lib:299



Test Suites: 28 failed, 36 passed, 64 total
Tests:       96 failed, 14 skipped, 1 todo, 1362 passed, 1473 total
Snapshots:   0 total
Time:        85.263 s
Ran all test suites in 2 projects.
user_run_in_roblox-50312.rbxmx.run-in-roblox-plugin.Main:25: Tests failed!
user_run_in_roblox-50312.rbxmx.run-in-roblox-plugin.Main:25
user_run_in_roblox-50312.rbxmx.run-in-roblox-plugin:79

Stack Begin
Script 'user_run_in_roblox-50312.rbxmx.run-in-roblox-plugin', Line 84
Stack End
 ELIFECYCLE  Test failed. See above for more details.
